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","sources":["../node_modules/chart.js/dist/Chart.js","../node_modules/lodash/_arrayAggregator.js","../node_modules/lodash/_baseAggregator.js","../node_modules/lodash/_createAggregator.js","../node_modules/lodash/isEqual.js","../node_modules/lodash/keyBy.js","../node_modules/moment/moment.js","../node_modules/react-chartjs-2/es/index.js"],"sourcesContent":["/*!\n * Chart.js v2.9.4\n * https://www.chartjs.org\n * (c) 2020 Chart.js Contributors\n * Released under the MIT License\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(function() { try { return require('moment'); } catch(e) { } }()) :\ntypeof define === 'function' && define.amd ? define(['require'], function(require) { return factory(function() { try { return require('moment'); } catch(e) { } }()); }) :\n(global = global || self, global.Chart = factory(global.moment));\n}(this, (function (moment) { 'use strict';\n\nmoment = moment && moment.hasOwnProperty('default') ? moment['default'] : moment;\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nfunction getCjsExportFromNamespace (n) {\n\treturn n && n['default'] || n;\n}\n\nvar colorName = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\n\nvar conversions = createCommonjsModule(function (module) {\n/* MIT license */\n\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in colorName) {\n\tif (colorName.hasOwnProperty(key)) {\n\t\treverseKeywords[colorName[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in colorName) {\n\t\tif (colorName.hasOwnProperty(keyword)) {\n\t\t\tvar value = colorName[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn colorName[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n});\nvar conversions_1 = conversions.rgb;\nvar conversions_2 = conversions.hsl;\nvar conversions_3 = conversions.hsv;\nvar conversions_4 = conversions.hwb;\nvar conversions_5 = conversions.cmyk;\nvar conversions_6 = conversions.xyz;\nvar conversions_7 = conversions.lab;\nvar conversions_8 = conversions.lch;\nvar conversions_9 = conversions.hex;\nvar conversions_10 = conversions.keyword;\nvar conversions_11 = conversions.ansi16;\nvar conversions_12 = conversions.ansi256;\nvar conversions_13 = conversions.hcg;\nvar conversions_14 = conversions.apple;\nvar conversions_15 = conversions.gray;\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nvar route = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nvar colorConvert = convert;\n\nvar colorName$1 = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\n\n/* MIT license */\n\n\nvar colorString = {\n   getRgba: getRgba,\n   getHsla: getHsla,\n   getRgb: getRgb,\n   getHsl: getHsl,\n   getHwb: getHwb,\n   getAlpha: getAlpha,\n\n   hexString: hexString,\n   rgbString: rgbString,\n   rgbaString: rgbaString,\n   percentString: percentString,\n   percentaString: percentaString,\n   hslString: hslString,\n   hslaString: hslaString,\n   hwbString: hwbString,\n   keyword: keyword\n};\n\nfunction getRgba(string) {\n   if (!string) {\n      return;\n   }\n   var abbr =  /^#([a-fA-F0-9]{3,4})$/i,\n       hex =  /^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,\n       rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       keyword = /(\\w+)/;\n\n   var rgb = [0, 0, 0],\n       a = 1,\n       match = string.match(abbr),\n       hexAlpha = \"\";\n   if (match) {\n      match = match[1];\n      hexAlpha = match[3];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i] + match[i], 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha + hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(hex)) {\n      hexAlpha = match[2];\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(rgba)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i + 1]);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(per)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(keyword)) {\n      if (match[1] == \"transparent\") {\n         return [0, 0, 0, 0];\n      }\n      rgb = colorName$1[match[1]];\n      if (!rgb) {\n         return;\n      }\n   }\n\n   for (var i = 0; i < rgb.length; i++) {\n      rgb[i] = scale(rgb[i], 0, 255);\n   }\n   if (!a && a != 0) {\n      a = 1;\n   }\n   else {\n      a = scale(a, 0, 1);\n   }\n   rgb[3] = a;\n   return rgb;\n}\n\nfunction getHsla(string) {\n   if (!string) {\n      return;\n   }\n   var hsl = /^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hsl);\n   if (match) {\n      var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          s = scale(parseFloat(match[2]), 0, 100),\n          l = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, s, l, a];\n   }\n}\n\nfunction getHwb(string) {\n   if (!string) {\n      return;\n   }\n   var hwb = /^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hwb);\n   if (match) {\n    var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          w = scale(parseFloat(match[2]), 0, 100),\n          b = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, w, b, a];\n   }\n}\n\nfunction getRgb(string) {\n   var rgba = getRgba(string);\n   return rgba && rgba.slice(0, 3);\n}\n\nfunction getHsl(string) {\n  var hsla = getHsla(string);\n  return hsla && hsla.slice(0, 3);\n}\n\nfunction getAlpha(string) {\n   var vals = getRgba(string);\n   if (vals) {\n      return vals[3];\n   }\n   else if (vals = getHsla(string)) {\n      return vals[3];\n   }\n   else if (vals = getHwb(string)) {\n      return vals[3];\n   }\n}\n\n// generators\nfunction hexString(rgba, a) {\n   var a = (a !== undefined && rgba.length === 3) ? a : rgba[3];\n   return \"#\" + hexDouble(rgba[0]) \n              + hexDouble(rgba[1])\n              + hexDouble(rgba[2])\n              + (\n                 (a >= 0 && a < 1)\n                 ? hexDouble(Math.round(a * 255))\n                 : \"\"\n              );\n}\n\nfunction rgbString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return rgbaString(rgba, alpha);\n   }\n   return \"rgb(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2] + \")\";\n}\n\nfunction rgbaString(rgba, alpha) {\n   if (alpha === undefined) {\n      alpha = (rgba[3] !== undefined ? rgba[3] : 1);\n   }\n   return \"rgba(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2]\n           + \", \" + alpha + \")\";\n}\n\nfunction percentString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return percentaString(rgba, alpha);\n   }\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n\n   return \"rgb(\" + r + \"%, \" + g + \"%, \" + b + \"%)\";\n}\n\nfunction percentaString(rgba, alpha) {\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n   return \"rgba(\" + r + \"%, \" + g + \"%, \" + b + \"%, \" + (alpha || rgba[3] || 1) + \")\";\n}\n\nfunction hslString(hsla, alpha) {\n   if (alpha < 1 || (hsla[3] && hsla[3] < 1)) {\n      return hslaString(hsla, alpha);\n   }\n   return \"hsl(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%)\";\n}\n\nfunction hslaString(hsla, alpha) {\n   if (alpha === undefined) {\n      alpha = (hsla[3] !== undefined ? hsla[3] : 1);\n   }\n   return \"hsla(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%, \"\n           + alpha + \")\";\n}\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\nfunction hwbString(hwb, alpha) {\n   if (alpha === undefined) {\n      alpha = (hwb[3] !== undefined ? hwb[3] : 1);\n   }\n   return \"hwb(\" + hwb[0] + \", \" + hwb[1] + \"%, \" + hwb[2] + \"%\"\n           + (alpha !== undefined && alpha !== 1 ? \", \" + alpha : \"\") + \")\";\n}\n\nfunction keyword(rgb) {\n  return reverseNames[rgb.slice(0, 3)];\n}\n\n// helpers\nfunction scale(num, min, max) {\n   return Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n  var str = num.toString(16).toUpperCase();\n  return (str.length < 2) ? \"0\" + str : str;\n}\n\n\n//create a list of reverse color names\nvar reverseNames = {};\nfor (var name in colorName$1) {\n   reverseNames[colorName$1[name]] = name;\n}\n\n/* MIT license */\n\n\n\nvar Color = function (obj) {\n\tif (obj instanceof Color) {\n\t\treturn obj;\n\t}\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj);\n\t}\n\n\tthis.valid = false;\n\tthis.values = {\n\t\trgb: [0, 0, 0],\n\t\thsl: [0, 0, 0],\n\t\thsv: [0, 0, 0],\n\t\thwb: [0, 0, 0],\n\t\tcmyk: [0, 0, 0, 0],\n\t\talpha: 1\n\t};\n\n\t// parse Color() argument\n\tvar vals;\n\tif (typeof obj === 'string') {\n\t\tvals = colorString.getRgba(obj);\n\t\tif (vals) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals = colorString.getHsla(obj)) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals = colorString.getHwb(obj)) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t}\n\t} else if (typeof obj === 'object') {\n\t\tvals = obj;\n\t\tif (vals.r !== undefined || vals.red !== undefined) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals.l !== undefined || vals.lightness !== undefined) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals.v !== undefined || vals.value !== undefined) {\n\t\t\tthis.setValues('hsv', vals);\n\t\t} else if (vals.w !== undefined || vals.whiteness !== undefined) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t} else if (vals.c !== undefined || vals.cyan !== undefined) {\n\t\t\tthis.setValues('cmyk', vals);\n\t\t}\n\t}\n};\n\nColor.prototype = {\n\tisValid: function () {\n\t\treturn this.valid;\n\t},\n\trgb: function () {\n\t\treturn this.setSpace('rgb', arguments);\n\t},\n\thsl: function () {\n\t\treturn this.setSpace('hsl', arguments);\n\t},\n\thsv: function () {\n\t\treturn this.setSpace('hsv', arguments);\n\t},\n\thwb: function () {\n\t\treturn this.setSpace('hwb', arguments);\n\t},\n\tcmyk: function () {\n\t\treturn this.setSpace('cmyk', arguments);\n\t},\n\n\trgbArray: function () {\n\t\treturn this.values.rgb;\n\t},\n\thslArray: function () {\n\t\treturn this.values.hsl;\n\t},\n\thsvArray: function () {\n\t\treturn this.values.hsv;\n\t},\n\thwbArray: function () {\n\t\tvar values = this.values;\n\t\tif (values.alpha !== 1) {\n\t\t\treturn values.hwb.concat([values.alpha]);\n\t\t}\n\t\treturn values.hwb;\n\t},\n\tcmykArray: function () {\n\t\treturn this.values.cmyk;\n\t},\n\trgbaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.rgb.concat([values.alpha]);\n\t},\n\thslaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.hsl.concat([values.alpha]);\n\t},\n\talpha: function (val) {\n\t\tif (val === undefined) {\n\t\t\treturn this.values.alpha;\n\t\t}\n\t\tthis.setValues('alpha', val);\n\t\treturn this;\n\t},\n\n\tred: function (val) {\n\t\treturn this.setChannel('rgb', 0, val);\n\t},\n\tgreen: function (val) {\n\t\treturn this.setChannel('rgb', 1, val);\n\t},\n\tblue: function (val) {\n\t\treturn this.setChannel('rgb', 2, val);\n\t},\n\thue: function (val) {\n\t\tif (val) {\n\t\t\tval %= 360;\n\t\t\tval = val < 0 ? 360 + val : val;\n\t\t}\n\t\treturn this.setChannel('hsl', 0, val);\n\t},\n\tsaturation: function (val) {\n\t\treturn this.setChannel('hsl', 1, val);\n\t},\n\tlightness: function (val) {\n\t\treturn this.setChannel('hsl', 2, val);\n\t},\n\tsaturationv: function (val) {\n\t\treturn this.setChannel('hsv', 1, val);\n\t},\n\twhiteness: function (val) {\n\t\treturn this.setChannel('hwb', 1, val);\n\t},\n\tblackness: function (val) {\n\t\treturn this.setChannel('hwb', 2, val);\n\t},\n\tvalue: function (val) {\n\t\treturn this.setChannel('hsv', 2, val);\n\t},\n\tcyan: function (val) {\n\t\treturn this.setChannel('cmyk', 0, val);\n\t},\n\tmagenta: function (val) {\n\t\treturn this.setChannel('cmyk', 1, val);\n\t},\n\tyellow: function (val) {\n\t\treturn this.setChannel('cmyk', 2, val);\n\t},\n\tblack: function (val) {\n\t\treturn this.setChannel('cmyk', 3, val);\n\t},\n\n\thexString: function () {\n\t\treturn colorString.hexString(this.values.rgb);\n\t},\n\trgbString: function () {\n\t\treturn colorString.rgbString(this.values.rgb, this.values.alpha);\n\t},\n\trgbaString: function () {\n\t\treturn colorString.rgbaString(this.values.rgb, this.values.alpha);\n\t},\n\tpercentString: function () {\n\t\treturn colorString.percentString(this.values.rgb, this.values.alpha);\n\t},\n\thslString: function () {\n\t\treturn colorString.hslString(this.values.hsl, this.values.alpha);\n\t},\n\thslaString: function () {\n\t\treturn colorString.hslaString(this.values.hsl, this.values.alpha);\n\t},\n\thwbString: function () {\n\t\treturn colorString.hwbString(this.values.hwb, this.values.alpha);\n\t},\n\tkeyword: function () {\n\t\treturn colorString.keyword(this.values.rgb, this.values.alpha);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.values.rgb;\n\t\treturn (rgb[0] << 16) | (rgb[1] << 8) | rgb[2];\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.values.rgb;\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tdark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.values.rgb;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tlight: function () {\n\t\treturn !this.dark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = [];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb[i] = 255 - this.values.rgb[i];\n\t\t}\n\t\tthis.setValues('rgb', rgb);\n\t\treturn this;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] += hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] -= hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] += hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] -= hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[1] += hwb[1] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[2] += hwb[2] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tgreyscale: function () {\n\t\tvar rgb = this.values.rgb;\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\tthis.setValues('rgb', [val, val, val]);\n\t\treturn this;\n\t},\n\n\tclearer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha - (alpha * ratio));\n\t\treturn this;\n\t},\n\n\topaquer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha + (alpha * ratio));\n\t\treturn this;\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.values.hsl;\n\t\tvar hue = (hsl[0] + degrees) % 360;\n\t\thsl[0] = hue < 0 ? 360 + hue : hue;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Ported from sass implementation in C\n\t * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t */\n\tmix: function (mixinColor, weight) {\n\t\tvar color1 = this;\n\t\tvar color2 = mixinColor;\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn this\n\t\t\t.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue()\n\t\t\t)\n\t\t\t.alpha(color1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n\n\ttoJSON: function () {\n\t\treturn this.rgb();\n\t},\n\n\tclone: function () {\n\t\t// NOTE(SB): using node-clone creates a dependency to Buffer when using browserify,\n\t\t// making the final build way to big to embed in Chart.js. So let's do it manually,\n\t\t// assuming that values to clone are 1 dimension arrays containing only numbers,\n\t\t// except 'alpha' which is a number.\n\t\tvar result = new Color();\n\t\tvar source = this.values;\n\t\tvar target = result.values;\n\t\tvar value, type;\n\n\t\tfor (var prop in source) {\n\t\t\tif (source.hasOwnProperty(prop)) {\n\t\t\t\tvalue = source[prop];\n\t\t\t\ttype = ({}).toString.call(value);\n\t\t\t\tif (type === '[object Array]') {\n\t\t\t\t\ttarget[prop] = value.slice(0);\n\t\t\t\t} else if (type === '[object Number]') {\n\t\t\t\t\ttarget[prop] = value;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('unexpected color value:', value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nColor.prototype.spaces = {\n\trgb: ['red', 'green', 'blue'],\n\thsl: ['hue', 'saturation', 'lightness'],\n\thsv: ['hue', 'saturation', 'value'],\n\thwb: ['hue', 'whiteness', 'blackness'],\n\tcmyk: ['cyan', 'magenta', 'yellow', 'black']\n};\n\nColor.prototype.maxes = {\n\trgb: [255, 255, 255],\n\thsl: [360, 100, 100],\n\thsv: [360, 100, 100],\n\thwb: [360, 100, 100],\n\tcmyk: [100, 100, 100, 100]\n};\n\nColor.prototype.getValues = function (space) {\n\tvar values = this.values;\n\tvar vals = {};\n\n\tfor (var i = 0; i < space.length; i++) {\n\t\tvals[space.charAt(i)] = values[space][i];\n\t}\n\n\tif (values.alpha !== 1) {\n\t\tvals.a = values.alpha;\n\t}\n\n\t// {r: 255, g: 255, b: 255, a: 0.4}\n\treturn vals;\n};\n\nColor.prototype.setValues = function (space, vals) {\n\tvar values = this.values;\n\tvar spaces = this.spaces;\n\tvar maxes = this.maxes;\n\tvar alpha = 1;\n\tvar i;\n\n\tthis.valid = true;\n\n\tif (space === 'alpha') {\n\t\talpha = vals;\n\t} else if (vals.length) {\n\t\t// [10, 10, 10]\n\t\tvalues[space] = vals.slice(0, space.length);\n\t\talpha = vals[space.length];\n\t} else if (vals[space.charAt(0)] !== undefined) {\n\t\t// {r: 10, g: 10, b: 10}\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[space.charAt(i)];\n\t\t}\n\n\t\talpha = vals.a;\n\t} else if (vals[spaces[space][0]] !== undefined) {\n\t\t// {red: 10, green: 10, blue: 10}\n\t\tvar chans = spaces[space];\n\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[chans[i]];\n\t\t}\n\n\t\talpha = vals.alpha;\n\t}\n\n\tvalues.alpha = Math.max(0, Math.min(1, (alpha === undefined ? values.alpha : alpha)));\n\n\tif (space === 'alpha') {\n\t\treturn false;\n\t}\n\n\tvar capped;\n\n\t// cap values of the space prior converting all values\n\tfor (i = 0; i < space.length; i++) {\n\t\tcapped = Math.max(0, Math.min(maxes[space][i], values[space][i]));\n\t\tvalues[space][i] = Math.round(capped);\n\t}\n\n\t// convert to all the other color spaces\n\tfor (var sname in spaces) {\n\t\tif (sname !== space) {\n\t\t\tvalues[sname] = colorConvert[space][sname](values[space]);\n\t\t}\n\t}\n\n\treturn true;\n};\n\nColor.prototype.setSpace = function (space, args) {\n\tvar vals = args[0];\n\n\tif (vals === undefined) {\n\t\t// color.rgb()\n\t\treturn this.getValues(space);\n\t}\n\n\t// color.rgb(10, 10, 10)\n\tif (typeof vals === 'number') {\n\t\tvals = Array.prototype.slice.call(args);\n\t}\n\n\tthis.setValues(space, vals);\n\treturn this;\n};\n\nColor.prototype.setChannel = function (space, index, val) {\n\tvar svalues = this.values[space];\n\tif (val === undefined) {\n\t\t// color.red()\n\t\treturn svalues[index];\n\t} else if (val === svalues[index]) {\n\t\t// color.red(color.red())\n\t\treturn this;\n\t}\n\n\t// color.red(100)\n\tsvalues[index] = val;\n\tthis.setValues(space, svalues);\n\n\treturn this;\n};\n\nif (typeof window !== 'undefined') {\n\twindow.Color = Color;\n}\n\nvar chartjsColor = Color;\n\nfunction isValidKey(key) {\r\n\treturn ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\r\n}\r\n\r\n/**\r\n * @namespace Chart.helpers\r\n */\r\nvar helpers = {\r\n\t/**\r\n\t * An empty function that can be used, for example, for optional callback.\r\n\t */\r\n\tnoop: function() {},\r\n\r\n\t/**\r\n\t * Returns a unique id, sequentially generated from a global variable.\r\n\t * @returns {number}\r\n\t * @function\r\n\t */\r\n\tuid: (function() {\r\n\t\tvar id = 0;\r\n\t\treturn function() {\r\n\t\t\treturn id++;\r\n\t\t};\r\n\t}()),\r\n\r\n\t/**\r\n\t * Returns true if `value` is neither null nor undefined, else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @since 2.7.0\r\n\t */\r\n\tisNullOrUndef: function(value) {\r\n\t\treturn value === null || typeof value === 'undefined';\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is an array (including typed arrays), else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @function\r\n\t */\r\n\tisArray: function(value) {\r\n\t\tif (Array.isArray && Array.isArray(value)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tvar type = Object.prototype.toString.call(value);\r\n\t\tif (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is an object (excluding null), else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @since 2.7.0\r\n\t */\r\n\tisObject: function(value) {\r\n\t\treturn value !== null && Object.prototype.toString.call(value) === '[object Object]';\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is a finite number, else returns false\r\n\t * @param {*} value  - The value to test.\r\n\t * @returns {boolean}\r\n\t */\r\n\tisFinite: function(value) {\r\n\t\treturn (typeof value === 'number' || value instanceof Number) && isFinite(value);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns `value` if defined, else returns `defaultValue`.\r\n\t * @param {*} value - The value to return if defined.\r\n\t * @param {*} defaultValue - The value to return if `value` is undefined.\r\n\t * @returns {*}\r\n\t */\r\n\tvalueOrDefault: function(value, defaultValue) {\r\n\t\treturn typeof value === 'undefined' ? defaultValue : value;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns value at the given `index` in array if defined, else returns `defaultValue`.\r\n\t * @param {Array} value - The array to lookup for value at `index`.\r\n\t * @param {number} index - The index in `value` to lookup for value.\r\n\t * @param {*} defaultValue - The value to return if `value[index]` is undefined.\r\n\t * @returns {*}\r\n\t */\r\n\tvalueAtIndexOrDefault: function(value, index, defaultValue) {\r\n\t\treturn helpers.valueOrDefault(helpers.isArray(value) ? value[index] : value, defaultValue);\r\n\t},\r\n\r\n\t/**\r\n\t * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\r\n\t * value returned by `fn`. If `fn` is not a function, this method returns undefined.\r\n\t * @param {function} fn - The function to call.\r\n\t * @param {Array|undefined|null} args - The arguments with which `fn` should be called.\r\n\t * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.\r\n\t * @returns {*}\r\n\t */\r\n\tcallback: function(fn, args, thisArg) {\r\n\t\tif (fn && typeof fn.call === 'function') {\r\n\t\t\treturn fn.apply(thisArg, args);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Note(SB) for performance sake, this method should only be used when loopable type\r\n\t * is unknown or in none intensive code (not called often and small loopable). Else\r\n\t * it's preferable to use a regular for() loop and save extra function calls.\r\n\t * @param {object|Array} loopable - The object or array to be iterated.\r\n\t * @param {function} fn - The function to call for each item.\r\n\t * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.\r\n\t * @param {boolean} [reverse] - If true, iterates backward on the loopable.\r\n\t */\r\n\teach: function(loopable, fn, thisArg, reverse) {\r\n\t\tvar i, len, keys;\r\n\t\tif (helpers.isArray(loopable)) {\r\n\t\t\tlen = loopable.length;\r\n\t\t\tif (reverse) {\r\n\t\t\t\tfor (i = len - 1; i >= 0; i--) {\r\n\t\t\t\t\tfn.call(thisArg, loopable[i], i);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\t\tfn.call(thisArg, loopable[i], i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (helpers.isObject(loopable)) {\r\n\t\t\tkeys = Object.keys(loopable);\r\n\t\t\tlen = keys.length;\r\n\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\tfn.call(thisArg, loopable[keys[i]], keys[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\r\n\t * @see https://stackoverflow.com/a/14853974\r\n\t * @param {Array} a0 - The array to compare\r\n\t * @param {Array} a1 - The array to compare\r\n\t * @returns {boolean}\r\n\t */\r\n\tarrayEquals: function(a0, a1) {\r\n\t\tvar i, ilen, v0, v1;\r\n\r\n\t\tif (!a0 || !a1 || a0.length !== a1.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = a0.length; i < ilen; ++i) {\r\n\t\t\tv0 = a0[i];\r\n\t\t\tv1 = a1[i];\r\n\r\n\t\t\tif (v0 instanceof Array && v1 instanceof Array) {\r\n\t\t\t\tif (!helpers.arrayEquals(v0, v1)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else if (v0 !== v1) {\r\n\t\t\t\t// NOTE: two different object instances will never be equal: {x:20} != {x:20}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a deep copy of `source` without keeping references on objects and arrays.\r\n\t * @param {*} source - The value to clone.\r\n\t * @returns {*}\r\n\t */\r\n\tclone: function(source) {\r\n\t\tif (helpers.isArray(source)) {\r\n\t\t\treturn source.map(helpers.clone);\r\n\t\t}\r\n\r\n\t\tif (helpers.isObject(source)) {\r\n\t\t\tvar target = Object.create(source);\r\n\t\t\tvar keys = Object.keys(source);\r\n\t\t\tvar klen = keys.length;\r\n\t\t\tvar k = 0;\r\n\r\n\t\t\tfor (; k < klen; ++k) {\r\n\t\t\t\ttarget[keys[k]] = helpers.clone(source[keys[k]]);\r\n\t\t\t}\r\n\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\treturn source;\r\n\t},\r\n\r\n\t/**\r\n\t * The default merger when Chart.helpers.merge is called without merger option.\r\n\t * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\r\n\t * @private\r\n\t */\r\n\t_merger: function(key, target, source, options) {\r\n\t\tif (!isValidKey(key)) {\r\n\t\t\t// We want to ensure we do not copy prototypes over\r\n\t\t\t// as this can pollute global namespaces\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tval = target[key];\r\n\t\tvar sval = source[key];\r\n\r\n\t\tif (helpers.isObject(tval) && helpers.isObject(sval)) {\r\n\t\t\thelpers.merge(tval, sval, options);\r\n\t\t} else {\r\n\t\t\ttarget[key] = helpers.clone(sval);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Merges source[key] in target[key] only if target[key] is undefined.\r\n\t * @private\r\n\t */\r\n\t_mergerIf: function(key, target, source) {\r\n\t\tif (!isValidKey(key)) {\r\n\t\t\t// We want to ensure we do not copy prototypes over\r\n\t\t\t// as this can pollute global namespaces\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tval = target[key];\r\n\t\tvar sval = source[key];\r\n\r\n\t\tif (helpers.isObject(tval) && helpers.isObject(sval)) {\r\n\t\t\thelpers.mergeIf(tval, sval);\r\n\t\t} else if (!target.hasOwnProperty(key)) {\r\n\t\t\ttarget[key] = helpers.clone(sval);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Recursively deep copies `source` properties into `target` with the given `options`.\r\n\t * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\r\n\t * @param {object} target - The target object in which all sources are merged into.\r\n\t * @param {object|object[]} source - Object(s) to merge into `target`.\r\n\t * @param {object} [options] - Merging options:\r\n\t * @param {function} [options.merger] - The merge method (key, target, source, options)\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\tmerge: function(target, source, options) {\r\n\t\tvar sources = helpers.isArray(source) ? source : [source];\r\n\t\tvar ilen = sources.length;\r\n\t\tvar merge, i, keys, klen, k;\r\n\r\n\t\tif (!helpers.isObject(target)) {\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\toptions = options || {};\r\n\t\tmerge = options.merger || helpers._merger;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tsource = sources[i];\r\n\t\t\tif (!helpers.isObject(source)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tkeys = Object.keys(source);\r\n\t\t\tfor (k = 0, klen = keys.length; k < klen; ++k) {\r\n\t\t\t\tmerge(keys[k], target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t},\r\n\r\n\t/**\r\n\t * Recursively deep copies `source` properties into `target` *only* if not defined in target.\r\n\t * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\r\n\t * @param {object} target - The target object in which all sources are merged into.\r\n\t * @param {object|object[]} source - Object(s) to merge into `target`.\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\tmergeIf: function(target, source) {\r\n\t\treturn helpers.merge(target, source, {merger: helpers._mergerIf});\r\n\t},\r\n\r\n\t/**\r\n\t * Applies the contents of two or more objects together into the first object.\r\n\t * @param {object} target - The target object in which all objects are merged into.\r\n\t * @param {object} arg1 - Object containing additional properties to merge in target.\r\n\t * @param {object} argN - Additional objects containing properties to merge in target.\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\textend: Object.assign || function(target) {\r\n\t\treturn helpers.merge(target, [].slice.call(arguments, 1), {\r\n\t\t\tmerger: function(key, dst, src) {\r\n\t\t\t\tdst[key] = src[key];\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * Basic javascript inheritance based on the model created in Backbone.js\r\n\t */\r\n\tinherits: function(extensions) {\r\n\t\tvar me = this;\r\n\t\tvar ChartElement = (extensions && extensions.hasOwnProperty('constructor')) ? extensions.constructor : function() {\r\n\t\t\treturn me.apply(this, arguments);\r\n\t\t};\r\n\r\n\t\tvar Surrogate = function() {\r\n\t\t\tthis.constructor = ChartElement;\r\n\t\t};\r\n\r\n\t\tSurrogate.prototype = me.prototype;\r\n\t\tChartElement.prototype = new Surrogate();\r\n\t\tChartElement.extend = helpers.inherits;\r\n\r\n\t\tif (extensions) {\r\n\t\t\thelpers.extend(ChartElement.prototype, extensions);\r\n\t\t}\r\n\r\n\t\tChartElement.__super__ = me.prototype;\r\n\t\treturn ChartElement;\r\n\t},\r\n\r\n\t_deprecated: function(scope, value, previous, current) {\r\n\t\tif (value !== undefined) {\r\n\t\t\tconsole.warn(scope + ': \"' + previous +\r\n\t\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar helpers_core = helpers;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.callback instead.\r\n * @function Chart.helpers.callCallback\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.callCallback = helpers.callback;\r\n\r\n/**\r\n * Provided for backward compatibility, use Array.prototype.indexOf instead.\r\n * Array.prototype.indexOf compatibility: Chrome, Opera, Safari, FF1.5+, IE9+\r\n * @function Chart.helpers.indexOf\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.indexOf = function(array, item, fromIndex) {\r\n\treturn Array.prototype.indexOf.call(array, item, fromIndex);\r\n};\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.valueOrDefault instead.\r\n * @function Chart.helpers.getValueOrDefault\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.getValueOrDefault = helpers.valueOrDefault;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.valueAtIndexOrDefault instead.\r\n * @function Chart.helpers.getValueAtIndexOrDefault\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.getValueAtIndexOrDefault = helpers.valueAtIndexOrDefault;\n\n/**\r\n * Easing functions adapted from Robert Penner's easing equations.\r\n * @namespace Chart.helpers.easingEffects\r\n * @see http://www.robertpenner.com/easing/\r\n */\r\nvar effects = {\r\n\tlinear: function(t) {\r\n\t\treturn t;\r\n\t},\r\n\r\n\teaseInQuad: function(t) {\r\n\t\treturn t * t;\r\n\t},\r\n\r\n\teaseOutQuad: function(t) {\r\n\t\treturn -t * (t - 2);\r\n\t},\r\n\r\n\teaseInOutQuad: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t;\r\n\t\t}\r\n\t\treturn -0.5 * ((--t) * (t - 2) - 1);\r\n\t},\r\n\r\n\teaseInCubic: function(t) {\r\n\t\treturn t * t * t;\r\n\t},\r\n\r\n\teaseOutCubic: function(t) {\r\n\t\treturn (t = t - 1) * t * t + 1;\r\n\t},\r\n\r\n\teaseInOutCubic: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t;\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * t + 2);\r\n\t},\r\n\r\n\teaseInQuart: function(t) {\r\n\t\treturn t * t * t * t;\r\n\t},\r\n\r\n\teaseOutQuart: function(t) {\r\n\t\treturn -((t = t - 1) * t * t * t - 1);\r\n\t},\r\n\r\n\teaseInOutQuart: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t * t;\r\n\t\t}\r\n\t\treturn -0.5 * ((t -= 2) * t * t * t - 2);\r\n\t},\r\n\r\n\teaseInQuint: function(t) {\r\n\t\treturn t * t * t * t * t;\r\n\t},\r\n\r\n\teaseOutQuint: function(t) {\r\n\t\treturn (t = t - 1) * t * t * t * t + 1;\r\n\t},\r\n\r\n\teaseInOutQuint: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t * t * t;\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n\t},\r\n\r\n\teaseInSine: function(t) {\r\n\t\treturn -Math.cos(t * (Math.PI / 2)) + 1;\r\n\t},\r\n\r\n\teaseOutSine: function(t) {\r\n\t\treturn Math.sin(t * (Math.PI / 2));\r\n\t},\r\n\r\n\teaseInOutSine: function(t) {\r\n\t\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\r\n\t},\r\n\r\n\teaseInExpo: function(t) {\r\n\t\treturn (t === 0) ? 0 : Math.pow(2, 10 * (t - 1));\r\n\t},\r\n\r\n\teaseOutExpo: function(t) {\r\n\t\treturn (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1;\r\n\t},\r\n\r\n\teaseInOutExpo: function(t) {\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * Math.pow(2, 10 * (t - 1));\r\n\t\t}\r\n\t\treturn 0.5 * (-Math.pow(2, -10 * --t) + 2);\r\n\t},\r\n\r\n\teaseInCirc: function(t) {\r\n\t\tif (t >= 1) {\r\n\t\t\treturn t;\r\n\t\t}\r\n\t\treturn -(Math.sqrt(1 - t * t) - 1);\r\n\t},\r\n\r\n\teaseOutCirc: function(t) {\r\n\t\treturn Math.sqrt(1 - (t = t - 1) * t);\r\n\t},\r\n\r\n\teaseInOutCirc: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn -0.5 * (Math.sqrt(1 - t * t) - 1);\r\n\t\t}\r\n\t\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\r\n\t},\r\n\r\n\teaseInElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.3;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\r\n\t},\r\n\r\n\teaseOutElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.3;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t - s) * (2 * Math.PI) / p) + 1;\r\n\t},\r\n\r\n\teaseInOutElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif ((t /= 0.5) === 2) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.45;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\tif (t < 1) {\r\n\t\t\treturn -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\r\n\t\t}\r\n\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p) * 0.5 + 1;\r\n\t},\r\n\teaseInBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\treturn t * t * ((s + 1) * t - s);\r\n\t},\r\n\r\n\teaseOutBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\treturn (t = t - 1) * t * ((s + 1) * t + s) + 1;\r\n\t},\r\n\r\n\teaseInOutBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\r\n\t},\r\n\r\n\teaseInBounce: function(t) {\r\n\t\treturn 1 - effects.easeOutBounce(1 - t);\r\n\t},\r\n\r\n\teaseOutBounce: function(t) {\r\n\t\tif (t < (1 / 2.75)) {\r\n\t\t\treturn 7.5625 * t * t;\r\n\t\t}\r\n\t\tif (t < (2 / 2.75)) {\r\n\t\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t\t}\r\n\t\tif (t < (2.5 / 2.75)) {\r\n\t\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t\t}\r\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t},\r\n\r\n\teaseInOutBounce: function(t) {\r\n\t\tif (t < 0.5) {\r\n\t\t\treturn effects.easeInBounce(t * 2) * 0.5;\r\n\t\t}\r\n\t\treturn effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5;\r\n\t}\r\n};\r\n\r\nvar helpers_easing = {\r\n\teffects: effects\r\n};\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.easing.effects instead.\r\n * @function Chart.helpers.easingEffects\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.easingEffects = effects;\n\nvar PI = Math.PI;\r\nvar RAD_PER_DEG = PI / 180;\r\nvar DOUBLE_PI = PI * 2;\r\nvar HALF_PI = PI / 2;\r\nvar QUARTER_PI = PI / 4;\r\nvar TWO_THIRDS_PI = PI * 2 / 3;\r\n\r\n/**\r\n * @namespace Chart.helpers.canvas\r\n */\r\nvar exports$1 = {\r\n\t/**\r\n\t * Clears the entire canvas associated to the given `chart`.\r\n\t * @param {Chart} chart - The chart for which to clear the canvas.\r\n\t */\r\n\tclear: function(chart) {\r\n\t\tchart.ctx.clearRect(0, 0, chart.width, chart.height);\r\n\t},\r\n\r\n\t/**\r\n\t * Creates a \"path\" for a rectangle with rounded corners at position (x, y) with a\r\n\t * given size (width, height) and the same `radius` for all corners.\r\n\t * @param {CanvasRenderingContext2D} ctx - The canvas 2D Context.\r\n\t * @param {number} x - The x axis of the coordinate for the rectangle starting point.\r\n\t * @param {number} y - The y axis of the coordinate for the rectangle starting point.\r\n\t * @param {number} width - The rectangle's width.\r\n\t * @param {number} height - The rectangle's height.\r\n\t * @param {number} radius - The rounded amount (in pixels) for the four corners.\r\n\t * @todo handle `radius` as top-left, top-right, bottom-right, bottom-left array/object?\r\n\t */\r\n\troundedRect: function(ctx, x, y, width, height, radius) {\r\n\t\tif (radius) {\r\n\t\t\tvar r = Math.min(radius, height / 2, width / 2);\r\n\t\t\tvar left = x + r;\r\n\t\t\tvar top = y + r;\r\n\t\t\tvar right = x + width - r;\r\n\t\t\tvar bottom = y + height - r;\r\n\r\n\t\t\tctx.moveTo(x, top);\r\n\t\t\tif (left < right && top < bottom) {\r\n\t\t\t\tctx.arc(left, top, r, -PI, -HALF_PI);\r\n\t\t\t\tctx.arc(right, top, r, -HALF_PI, 0);\r\n\t\t\t\tctx.arc(right, bottom, r, 0, HALF_PI);\r\n\t\t\t\tctx.arc(left, bottom, r, HALF_PI, PI);\r\n\t\t\t} else if (left < right) {\r\n\t\t\t\tctx.moveTo(left, y);\r\n\t\t\t\tctx.arc(right, top, r, -HALF_PI, HALF_PI);\r\n\t\t\t\tctx.arc(left, top, r, HALF_PI, PI + HALF_PI);\r\n\t\t\t} else if (top < bottom) {\r\n\t\t\t\tctx.arc(left, top, r, -PI, 0);\r\n\t\t\t\tctx.arc(left, bottom, r, 0, PI);\r\n\t\t\t} else {\r\n\t\t\t\tctx.arc(left, top, r, -PI, PI);\r\n\t\t\t}\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t} else {\r\n\t\t\tctx.rect(x, y, width, height);\r\n\t\t}\r\n\t},\r\n\r\n\tdrawPoint: function(ctx, style, radius, x, y, rotation) {\r\n\t\tvar type, xOffset, yOffset, size, cornerRadius;\r\n\t\tvar rad = (rotation || 0) * RAD_PER_DEG;\r\n\r\n\t\tif (style && typeof style === 'object') {\r\n\t\t\ttype = style.toString();\r\n\t\t\tif (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.translate(x, y);\r\n\t\t\t\tctx.rotate(rad);\r\n\t\t\t\tctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\r\n\t\t\t\tctx.restore();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isNaN(radius) || radius <= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.beginPath();\r\n\r\n\t\tswitch (style) {\r\n\t\t// Default includes circle\r\n\t\tdefault:\r\n\t\t\tctx.arc(x, y, radius, 0, DOUBLE_PI);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'triangle':\r\n\t\t\tctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\trad += TWO_THIRDS_PI;\r\n\t\t\tctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\trad += TWO_THIRDS_PI;\r\n\t\t\tctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'rectRounded':\r\n\t\t\t// NOTE: the rounded rect implementation changed to use `arc` instead of\r\n\t\t\t// `quadraticCurveTo` since it generates better results when rect is\r\n\t\t\t// almost a circle. 0.516 (instead of 0.5) produces results with visually\r\n\t\t\t// closer proportion to the previous impl and it is inscribed in the\r\n\t\t\t// circle with `radius`. For more details, see the following PRs:\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5597\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5858\r\n\t\t\tcornerRadius = radius * 0.516;\r\n\t\t\tsize = radius - cornerRadius;\r\n\t\t\txOffset = Math.cos(rad + QUARTER_PI) * size;\r\n\t\t\tyOffset = Math.sin(rad + QUARTER_PI) * size;\r\n\t\t\tctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\r\n\t\t\tctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\r\n\t\t\tctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\r\n\t\t\tctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'rect':\r\n\t\t\tif (!rotation) {\r\n\t\t\t\tsize = Math.SQRT1_2 * radius;\r\n\t\t\t\tctx.rect(x - size, y - size, 2 * size, 2 * size);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\t/* falls through */\r\n\t\tcase 'rectRot':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'crossRot':\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\t/* falls through */\r\n\t\tcase 'cross':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'star':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'line':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'dash':\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t\tctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if the point is inside the rectangle\r\n\t * @param {object} point - The point to test\r\n\t * @param {object} area - The rectangle\r\n\t * @returns {boolean}\r\n\t * @private\r\n\t */\r\n\t_isPointInArea: function(point, area) {\r\n\t\tvar epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\r\n\r\n\t\treturn point.x > area.left - epsilon && point.x < area.right + epsilon &&\r\n\t\t\tpoint.y > area.top - epsilon && point.y < area.bottom + epsilon;\r\n\t},\r\n\r\n\tclipArea: function(ctx, area) {\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\r\n\t\tctx.clip();\r\n\t},\r\n\r\n\tunclipArea: function(ctx) {\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\tlineTo: function(ctx, previous, target, flip) {\r\n\t\tvar stepped = target.steppedLine;\r\n\t\tif (stepped) {\r\n\t\t\tif (stepped === 'middle') {\r\n\t\t\t\tvar midpoint = (previous.x + target.x) / 2.0;\r\n\t\t\t\tctx.lineTo(midpoint, flip ? target.y : previous.y);\r\n\t\t\t\tctx.lineTo(midpoint, flip ? previous.y : target.y);\r\n\t\t\t} else if ((stepped === 'after' && !flip) || (stepped !== 'after' && flip)) {\r\n\t\t\t\tctx.lineTo(previous.x, target.y);\r\n\t\t\t} else {\r\n\t\t\t\tctx.lineTo(target.x, previous.y);\r\n\t\t\t}\r\n\t\t\tctx.lineTo(target.x, target.y);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!target.tension) {\r\n\t\t\tctx.lineTo(target.x, target.y);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.bezierCurveTo(\r\n\t\t\tflip ? previous.controlPointPreviousX : previous.controlPointNextX,\r\n\t\t\tflip ? previous.controlPointPreviousY : previous.controlPointNextY,\r\n\t\t\tflip ? target.controlPointNextX : target.controlPointPreviousX,\r\n\t\t\tflip ? target.controlPointNextY : target.controlPointPreviousY,\r\n\t\t\ttarget.x,\r\n\t\t\ttarget.y);\r\n\t}\r\n};\r\n\r\nvar helpers_canvas = exports$1;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas.clear instead.\r\n * @namespace Chart.helpers.clear\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.clear = exports$1.clear;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas.roundedRect instead.\r\n * @namespace Chart.helpers.drawRoundedRectangle\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.drawRoundedRectangle = function(ctx) {\r\n\tctx.beginPath();\r\n\texports$1.roundedRect.apply(exports$1, arguments);\r\n};\n\nvar defaults = {\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_set: function(scope, values) {\r\n\t\treturn helpers_core.merge(this[scope] || (this[scope] = {}), values);\r\n\t}\r\n};\r\n\r\n// TODO(v3): remove 'global' from namespace.  all default are global and\r\n// there's inconsistency around which options are under 'global'\r\ndefaults._set('global', {\r\n\tdefaultColor: 'rgba(0,0,0,0.1)',\r\n\tdefaultFontColor: '#666',\r\n\tdefaultFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n\tdefaultFontSize: 12,\r\n\tdefaultFontStyle: 'normal',\r\n\tdefaultLineHeight: 1.2,\r\n\tshowLines: true\r\n});\r\n\r\nvar core_defaults = defaults;\n\nvar valueOrDefault = helpers_core.valueOrDefault;\r\n\r\n/**\r\n * Converts the given font object into a CSS font string.\r\n * @param {object} font - A font object.\r\n * @return {string} The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\r\n * @private\r\n */\r\nfunction toFontString(font) {\r\n\tif (!font || helpers_core.isNullOrUndef(font.size) || helpers_core.isNullOrUndef(font.family)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (font.style ? font.style + ' ' : '')\r\n\t\t+ (font.weight ? font.weight + ' ' : '')\r\n\t\t+ font.size + 'px '\r\n\t\t+ font.family;\r\n}\r\n\r\n/**\r\n * @alias Chart.helpers.options\r\n * @namespace\r\n */\r\nvar helpers_options = {\r\n\t/**\r\n\t * Converts the given line height `value` in pixels for a specific font `size`.\r\n\t * @param {number|string} value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\r\n\t * @param {number} size - The font size (in pixels) used to resolve relative `value`.\r\n\t * @returns {number} The effective line height in pixels (size * 1.2 if value is invalid).\r\n\t * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\r\n\t * @since 2.7.0\r\n\t */\r\n\ttoLineHeight: function(value, size) {\r\n\t\tvar matches = ('' + value).match(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\r\n\t\tif (!matches || matches[1] === 'normal') {\r\n\t\t\treturn size * 1.2;\r\n\t\t}\r\n\r\n\t\tvalue = +matches[2];\r\n\r\n\t\tswitch (matches[3]) {\r\n\t\tcase 'px':\r\n\t\t\treturn value;\r\n\t\tcase '%':\r\n\t\t\tvalue /= 100;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn size * value;\r\n\t},\r\n\r\n\t/**\r\n\t * Converts the given value into a padding object with pre-computed width/height.\r\n\t * @param {number|object} value - If a number, set the value to all TRBL component,\r\n\t *  else, if and object, use defined properties and sets undefined ones to 0.\r\n\t * @returns {object} The padding values (top, right, bottom, left, width, height)\r\n\t * @since 2.7.0\r\n\t */\r\n\ttoPadding: function(value) {\r\n\t\tvar t, r, b, l;\r\n\r\n\t\tif (helpers_core.isObject(value)) {\r\n\t\t\tt = +value.top || 0;\r\n\t\t\tr = +value.right || 0;\r\n\t\t\tb = +value.bottom || 0;\r\n\t\t\tl = +value.left || 0;\r\n\t\t} else {\r\n\t\t\tt = r = b = l = +value || 0;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttop: t,\r\n\t\t\tright: r,\r\n\t\t\tbottom: b,\r\n\t\t\tleft: l,\r\n\t\t\theight: t + b,\r\n\t\t\twidth: l + r\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Parses font options and returns the font object.\r\n\t * @param {object} options - A object that contains font options to be parsed.\r\n\t * @return {object} The font object.\r\n\t * @todo Support font.* options and renamed to toFont().\r\n\t * @private\r\n\t */\r\n\t_parseFont: function(options) {\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar size = valueOrDefault(options.fontSize, globalDefaults.defaultFontSize);\r\n\t\tvar font = {\r\n\t\t\tfamily: valueOrDefault(options.fontFamily, globalDefaults.defaultFontFamily),\r\n\t\t\tlineHeight: helpers_core.options.toLineHeight(valueOrDefault(options.lineHeight, globalDefaults.defaultLineHeight), size),\r\n\t\t\tsize: size,\r\n\t\t\tstyle: valueOrDefault(options.fontStyle, globalDefaults.defaultFontStyle),\r\n\t\t\tweight: null,\r\n\t\t\tstring: ''\r\n\t\t};\r\n\r\n\t\tfont.string = toFontString(font);\r\n\t\treturn font;\r\n\t},\r\n\r\n\t/**\r\n\t * Evaluates the given `inputs` sequentially and returns the first defined value.\r\n\t * @param {Array} inputs - An array of values, falling back to the last value.\r\n\t * @param {object} [context] - If defined and the current value is a function, the value\r\n\t * is called with `context` as first argument and the result becomes the new input.\r\n\t * @param {number} [index] - If defined and the current value is an array, the value\r\n\t * at `index` become the new input.\r\n\t * @param {object} [info] - object to return information about resolution in\r\n\t * @param {boolean} [info.cacheable] - Will be set to `false` if option is not cacheable.\r\n\t * @since 2.7.0\r\n\t */\r\n\tresolve: function(inputs, context, index, info) {\r\n\t\tvar cacheable = true;\r\n\t\tvar i, ilen, value;\r\n\r\n\t\tfor (i = 0, ilen = inputs.length; i < ilen; ++i) {\r\n\t\t\tvalue = inputs[i];\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (context !== undefined && typeof value === 'function') {\r\n\t\t\t\tvalue = value(context);\r\n\t\t\t\tcacheable = false;\r\n\t\t\t}\r\n\t\t\tif (index !== undefined && helpers_core.isArray(value)) {\r\n\t\t\t\tvalue = value[index];\r\n\t\t\t\tcacheable = false;\r\n\t\t\t}\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tif (info && !cacheable) {\r\n\t\t\t\t\tinfo.cacheable = false;\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\n/**\r\n * @alias Chart.helpers.math\r\n * @namespace\r\n */\r\nvar exports$2 = {\r\n\t/**\r\n\t * Returns an array of factors sorted from 1 to sqrt(value)\r\n\t * @private\r\n\t */\r\n\t_factorize: function(value) {\r\n\t\tvar result = [];\r\n\t\tvar sqrt = Math.sqrt(value);\r\n\t\tvar i;\r\n\r\n\t\tfor (i = 1; i < sqrt; i++) {\r\n\t\t\tif (value % i === 0) {\r\n\t\t\t\tresult.push(i);\r\n\t\t\t\tresult.push(value / i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (sqrt === (sqrt | 0)) { // if value is a square number\r\n\t\t\tresult.push(sqrt);\r\n\t\t}\r\n\r\n\t\tresult.sort(function(a, b) {\r\n\t\t\treturn a - b;\r\n\t\t}).pop();\r\n\t\treturn result;\r\n\t},\r\n\r\n\tlog10: Math.log10 || function(x) {\r\n\t\tvar exponent = Math.log(x) * Math.LOG10E; // Math.LOG10E = 1 / Math.LN10.\r\n\t\t// Check for whole powers of 10,\r\n\t\t// which due to floating point rounding error should be corrected.\r\n\t\tvar powerOf10 = Math.round(exponent);\r\n\t\tvar isPowerOf10 = x === Math.pow(10, powerOf10);\r\n\r\n\t\treturn isPowerOf10 ? powerOf10 : exponent;\r\n\t}\r\n};\r\n\r\nvar helpers_math = exports$2;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.math.log10 instead.\r\n * @namespace Chart.helpers.log10\r\n * @deprecated since version 2.9.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.log10 = exports$2.log10;\n\nvar getRtlAdapter = function(rectX, width) {\r\n\treturn {\r\n\t\tx: function(x) {\r\n\t\t\treturn rectX + rectX + width - x;\r\n\t\t},\r\n\t\tsetWidth: function(w) {\r\n\t\t\twidth = w;\r\n\t\t},\r\n\t\ttextAlign: function(align) {\r\n\t\t\tif (align === 'center') {\r\n\t\t\t\treturn align;\r\n\t\t\t}\r\n\t\t\treturn align === 'right' ? 'left' : 'right';\r\n\t\t},\r\n\t\txPlus: function(x, value) {\r\n\t\t\treturn x - value;\r\n\t\t},\r\n\t\tleftForLtr: function(x, itemWidth) {\r\n\t\t\treturn x - itemWidth;\r\n\t\t},\r\n\t};\r\n};\r\n\r\nvar getLtrAdapter = function() {\r\n\treturn {\r\n\t\tx: function(x) {\r\n\t\t\treturn x;\r\n\t\t},\r\n\t\tsetWidth: function(w) { // eslint-disable-line no-unused-vars\r\n\t\t},\r\n\t\ttextAlign: function(align) {\r\n\t\t\treturn align;\r\n\t\t},\r\n\t\txPlus: function(x, value) {\r\n\t\t\treturn x + value;\r\n\t\t},\r\n\t\tleftForLtr: function(x, _itemWidth) { // eslint-disable-line no-unused-vars\r\n\t\t\treturn x;\r\n\t\t},\r\n\t};\r\n};\r\n\r\nvar getAdapter = function(rtl, rectX, width) {\r\n\treturn rtl ? getRtlAdapter(rectX, width) : getLtrAdapter();\r\n};\r\n\r\nvar overrideTextDirection = function(ctx, direction) {\r\n\tvar style, original;\r\n\tif (direction === 'ltr' || direction === 'rtl') {\r\n\t\tstyle = ctx.canvas.style;\r\n\t\toriginal = [\r\n\t\t\tstyle.getPropertyValue('direction'),\r\n\t\t\tstyle.getPropertyPriority('direction'),\r\n\t\t];\r\n\r\n\t\tstyle.setProperty('direction', direction, 'important');\r\n\t\tctx.prevTextDirection = original;\r\n\t}\r\n};\r\n\r\nvar restoreTextDirection = function(ctx) {\r\n\tvar original = ctx.prevTextDirection;\r\n\tif (original !== undefined) {\r\n\t\tdelete ctx.prevTextDirection;\r\n\t\tctx.canvas.style.setProperty('direction', original[0], original[1]);\r\n\t}\r\n};\r\n\r\nvar helpers_rtl = {\r\n\tgetRtlAdapter: getAdapter,\r\n\toverrideTextDirection: overrideTextDirection,\r\n\trestoreTextDirection: restoreTextDirection,\r\n};\n\nvar helpers$1 = helpers_core;\r\nvar easing = helpers_easing;\r\nvar canvas = helpers_canvas;\r\nvar options = helpers_options;\r\nvar math = helpers_math;\r\nvar rtl = helpers_rtl;\nhelpers$1.easing = easing;\nhelpers$1.canvas = canvas;\nhelpers$1.options = options;\nhelpers$1.math = math;\nhelpers$1.rtl = rtl;\n\nfunction interpolate(start, view, model, ease) {\r\n\tvar keys = Object.keys(model);\r\n\tvar i, ilen, key, actual, origin, target, type, c0, c1;\r\n\r\n\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\tkey = keys[i];\r\n\r\n\t\ttarget = model[key];\r\n\r\n\t\t// if a value is added to the model after pivot() has been called, the view\r\n\t\t// doesn't contain it, so let's initialize the view to the target value.\r\n\t\tif (!view.hasOwnProperty(key)) {\r\n\t\t\tview[key] = target;\r\n\t\t}\r\n\r\n\t\tactual = view[key];\r\n\r\n\t\tif (actual === target || key[0] === '_') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (!start.hasOwnProperty(key)) {\r\n\t\t\tstart[key] = actual;\r\n\t\t}\r\n\r\n\t\torigin = start[key];\r\n\r\n\t\ttype = typeof target;\r\n\r\n\t\tif (type === typeof origin) {\r\n\t\t\tif (type === 'string') {\r\n\t\t\t\tc0 = chartjsColor(origin);\r\n\t\t\t\tif (c0.valid) {\r\n\t\t\t\t\tc1 = chartjsColor(target);\r\n\t\t\t\t\tif (c1.valid) {\r\n\t\t\t\t\t\tview[key] = c1.mix(c0, ease).rgbString();\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (helpers$1.isFinite(origin) && helpers$1.isFinite(target)) {\r\n\t\t\t\tview[key] = origin + (target - origin) * ease;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tview[key] = target;\r\n\t}\r\n}\r\n\r\nvar Element = function(configuration) {\r\n\thelpers$1.extend(this, configuration);\r\n\tthis.initialize.apply(this, arguments);\r\n};\r\n\r\nhelpers$1.extend(Element.prototype, {\r\n\t_type: undefined,\r\n\r\n\tinitialize: function() {\r\n\t\tthis.hidden = false;\r\n\t},\r\n\r\n\tpivot: function() {\r\n\t\tvar me = this;\r\n\t\tif (!me._view) {\r\n\t\t\tme._view = helpers$1.extend({}, me._model);\r\n\t\t}\r\n\t\tme._start = {};\r\n\t\treturn me;\r\n\t},\r\n\r\n\ttransition: function(ease) {\r\n\t\tvar me = this;\r\n\t\tvar model = me._model;\r\n\t\tvar start = me._start;\r\n\t\tvar view = me._view;\r\n\r\n\t\t// No animation -> No Transition\r\n\t\tif (!model || ease === 1) {\r\n\t\t\tme._view = helpers$1.extend({}, model);\r\n\t\t\tme._start = null;\r\n\t\t\treturn me;\r\n\t\t}\r\n\r\n\t\tif (!view) {\r\n\t\t\tview = me._view = {};\r\n\t\t}\r\n\r\n\t\tif (!start) {\r\n\t\t\tstart = me._start = {};\r\n\t\t}\r\n\r\n\t\tinterpolate(start, view, model, ease);\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\treturn {\r\n\t\t\tx: this._model.x,\r\n\t\t\ty: this._model.y\r\n\t\t};\r\n\t},\r\n\r\n\thasValue: function() {\r\n\t\treturn helpers$1.isNumber(this._model.x) && helpers$1.isNumber(this._model.y);\r\n\t}\r\n});\r\n\r\nElement.extend = helpers$1.inherits;\r\n\r\nvar core_element = Element;\n\nvar exports$3 = core_element.extend({\r\n\tchart: null, // the animation associated chart instance\r\n\tcurrentStep: 0, // the current animation step\r\n\tnumSteps: 60, // default number of steps\r\n\teasing: '', // the easing to use for this animation\r\n\trender: null, // render function used by the animation service\r\n\r\n\tonAnimationProgress: null, // user specified callback to fire on each step of the animation\r\n\tonAnimationComplete: null, // user specified callback to fire when the animation finishes\r\n});\r\n\r\nvar core_animation = exports$3;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.Animation instead\r\n * @prop Chart.Animation#animationObject\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n */\r\nObject.defineProperty(exports$3.prototype, 'animationObject', {\r\n\tget: function() {\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.Animation#chart instead\r\n * @prop Chart.Animation#chartInstance\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n */\r\nObject.defineProperty(exports$3.prototype, 'chartInstance', {\r\n\tget: function() {\r\n\t\treturn this.chart;\r\n\t},\r\n\tset: function(value) {\r\n\t\tthis.chart = value;\r\n\t}\r\n});\n\ncore_defaults._set('global', {\r\n\tanimation: {\r\n\t\tduration: 1000,\r\n\t\teasing: 'easeOutQuart',\r\n\t\tonProgress: helpers$1.noop,\r\n\t\tonComplete: helpers$1.noop\r\n\t}\r\n});\r\n\r\nvar core_animations = {\r\n\tanimations: [],\r\n\trequest: null,\r\n\r\n\t/**\r\n\t * @param {Chart} chart - The chart to animate.\r\n\t * @param {Chart.Animation} animation - The animation that we will animate.\r\n\t * @param {number} duration - The animation duration in ms.\r\n\t * @param {boolean} lazy - if true, the chart is not marked as animating to enable more responsive interactions\r\n\t */\r\n\taddAnimation: function(chart, animation, duration, lazy) {\r\n\t\tvar animations = this.animations;\r\n\t\tvar i, ilen;\r\n\r\n\t\tanimation.chart = chart;\r\n\t\tanimation.startTime = Date.now();\r\n\t\tanimation.duration = duration;\r\n\r\n\t\tif (!lazy) {\r\n\t\t\tchart.animating = true;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = animations.length; i < ilen; ++i) {\r\n\t\t\tif (animations[i].chart === chart) {\r\n\t\t\t\tanimations[i] = animation;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tanimations.push(animation);\r\n\r\n\t\t// If there are no animations queued, manually kickstart a digest, for lack of a better word\r\n\t\tif (animations.length === 1) {\r\n\t\t\tthis.requestAnimationFrame();\r\n\t\t}\r\n\t},\r\n\r\n\tcancelAnimation: function(chart) {\r\n\t\tvar index = helpers$1.findIndex(this.animations, function(animation) {\r\n\t\t\treturn animation.chart === chart;\r\n\t\t});\r\n\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.animations.splice(index, 1);\r\n\t\t\tchart.animating = false;\r\n\t\t}\r\n\t},\r\n\r\n\trequestAnimationFrame: function() {\r\n\t\tvar me = this;\r\n\t\tif (me.request === null) {\r\n\t\t\t// Skip animation frame requests until the active one is executed.\r\n\t\t\t// This can happen when processing mouse events, e.g. 'mousemove'\r\n\t\t\t// and 'mouseout' events will trigger multiple renders.\r\n\t\t\tme.request = helpers$1.requestAnimFrame.call(window, function() {\r\n\t\t\t\tme.request = null;\r\n\t\t\t\tme.startDigest();\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tstartDigest: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tme.advance();\r\n\r\n\t\t// Do we have more stuff to animate?\r\n\t\tif (me.animations.length > 0) {\r\n\t\t\tme.requestAnimationFrame();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tadvance: function() {\r\n\t\tvar animations = this.animations;\r\n\t\tvar animation, chart, numSteps, nextStep;\r\n\t\tvar i = 0;\r\n\r\n\t\t// 1 animation per chart, so we are looping charts here\r\n\t\twhile (i < animations.length) {\r\n\t\t\tanimation = animations[i];\r\n\t\t\tchart = animation.chart;\r\n\t\t\tnumSteps = animation.numSteps;\r\n\r\n\t\t\t// Make sure that currentStep starts at 1\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/6104\r\n\t\t\tnextStep = Math.floor((Date.now() - animation.startTime) / animation.duration * numSteps) + 1;\r\n\t\t\tanimation.currentStep = Math.min(nextStep, numSteps);\r\n\r\n\t\t\thelpers$1.callback(animation.render, [chart, animation], chart);\r\n\t\t\thelpers$1.callback(animation.onAnimationProgress, [animation], chart);\r\n\r\n\t\t\tif (animation.currentStep >= numSteps) {\r\n\t\t\t\thelpers$1.callback(animation.onAnimationComplete, [animation], chart);\r\n\t\t\t\tchart.animating = false;\r\n\t\t\t\tanimations.splice(i, 1);\r\n\t\t\t} else {\r\n\t\t\t\t++i;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\nvar resolve = helpers$1.options.resolve;\r\n\r\nvar arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\r\n\r\n/**\r\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\r\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\r\n * called on the 'onData*' callbacks (e.g. onDataPush, etc.) with same arguments.\r\n */\r\nfunction listenArrayEvents(array, listener) {\r\n\tif (array._chartjs) {\r\n\t\tarray._chartjs.listeners.push(listener);\r\n\t\treturn;\r\n\t}\r\n\r\n\tObject.defineProperty(array, '_chartjs', {\r\n\t\tconfigurable: true,\r\n\t\tenumerable: false,\r\n\t\tvalue: {\r\n\t\t\tlisteners: [listener]\r\n\t\t}\r\n\t});\r\n\r\n\tarrayEvents.forEach(function(key) {\r\n\t\tvar method = 'onData' + key.charAt(0).toUpperCase() + key.slice(1);\r\n\t\tvar base = array[key];\r\n\r\n\t\tObject.defineProperty(array, key, {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: false,\r\n\t\t\tvalue: function() {\r\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\t\t\tvar res = base.apply(this, args);\r\n\r\n\t\t\t\thelpers$1.each(array._chartjs.listeners, function(object) {\r\n\t\t\t\t\tif (typeof object[method] === 'function') {\r\n\t\t\t\t\t\tobject[method].apply(object, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n * Removes the given array event listener and cleanup extra attached properties (such as\r\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\r\n */\r\nfunction unlistenArrayEvents(array, listener) {\r\n\tvar stub = array._chartjs;\r\n\tif (!stub) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar listeners = stub.listeners;\r\n\tvar index = listeners.indexOf(listener);\r\n\tif (index !== -1) {\r\n\t\tlisteners.splice(index, 1);\r\n\t}\r\n\r\n\tif (listeners.length > 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tarrayEvents.forEach(function(key) {\r\n\t\tdelete array[key];\r\n\t});\r\n\r\n\tdelete array._chartjs;\r\n}\r\n\r\n// Base class for all dataset controllers (line, bar, etc)\r\nvar DatasetController = function(chart, datasetIndex) {\r\n\tthis.initialize(chart, datasetIndex);\r\n};\r\n\r\nhelpers$1.extend(DatasetController.prototype, {\r\n\r\n\t/**\r\n\t * Element type used to generate a meta dataset (e.g. Chart.element.Line).\r\n\t * @type {Chart.core.element}\r\n\t */\r\n\tdatasetElementType: null,\r\n\r\n\t/**\r\n\t * Element type used to generate a meta data (e.g. Chart.element.Point).\r\n\t * @type {Chart.core.element}\r\n\t */\r\n\tdataElementType: null,\r\n\r\n\t/**\r\n\t * Dataset element option keys to be resolved in _resolveDatasetElementOptions.\r\n\t * A derived controller may override this to resolve controller-specific options.\r\n\t * The keys defined here are for backward compatibility for legend styles.\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderColor',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'borderWidth'\r\n\t],\r\n\r\n\t/**\r\n\t * Data element option keys to be resolved in _resolveDataElementOptions.\r\n\t * A derived controller may override this to resolve controller-specific options.\r\n\t * The keys defined here are for backward compatibility for legend styles.\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'pointStyle'\r\n\t],\r\n\r\n\tinitialize: function(chart, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tme.chart = chart;\r\n\t\tme.index = datasetIndex;\r\n\t\tme.linkScales();\r\n\t\tme.addElements();\r\n\t\tme._type = me.getMeta().type;\r\n\t},\r\n\r\n\tupdateIndex: function(datasetIndex) {\r\n\t\tthis.index = datasetIndex;\r\n\t},\r\n\r\n\tlinkScales: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar chart = me.chart;\r\n\t\tvar scales = chart.scales;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar scalesOpts = chart.options.scales;\r\n\r\n\t\tif (meta.xAxisID === null || !(meta.xAxisID in scales) || dataset.xAxisID) {\r\n\t\t\tmeta.xAxisID = dataset.xAxisID || scalesOpts.xAxes[0].id;\r\n\t\t}\r\n\t\tif (meta.yAxisID === null || !(meta.yAxisID in scales) || dataset.yAxisID) {\r\n\t\t\tmeta.yAxisID = dataset.yAxisID || scalesOpts.yAxes[0].id;\r\n\t\t}\r\n\t},\r\n\r\n\tgetDataset: function() {\r\n\t\treturn this.chart.data.datasets[this.index];\r\n\t},\r\n\r\n\tgetMeta: function() {\r\n\t\treturn this.chart.getDatasetMeta(this.index);\r\n\t},\r\n\r\n\tgetScaleForId: function(scaleID) {\r\n\t\treturn this.chart.scales[scaleID];\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.getMeta().yAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.getMeta().xAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScale: function() {\r\n\t\treturn this.getScaleForId(this._getValueScaleId());\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScale: function() {\r\n\t\treturn this.getScaleForId(this._getIndexScaleId());\r\n\t},\r\n\r\n\treset: function() {\r\n\t\tthis._update(true);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tdestroy: function() {\r\n\t\tif (this._data) {\r\n\t\t\tunlistenArrayEvents(this._data, this);\r\n\t\t}\r\n\t},\r\n\r\n\tcreateMetaDataset: function() {\r\n\t\tvar me = this;\r\n\t\tvar type = me.datasetElementType;\r\n\t\treturn type && new type({\r\n\t\t\t_chart: me.chart,\r\n\t\t\t_datasetIndex: me.index\r\n\t\t});\r\n\t},\r\n\r\n\tcreateMetaData: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar type = me.dataElementType;\r\n\t\treturn type && new type({\r\n\t\t\t_chart: me.chart,\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index\r\n\t\t});\r\n\t},\r\n\r\n\taddElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar data = me.getDataset().data || [];\r\n\t\tvar metaData = meta.data;\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = data.length; i < ilen; ++i) {\r\n\t\t\tmetaData[i] = metaData[i] || me.createMetaData(i);\r\n\t\t}\r\n\r\n\t\tmeta.dataset = meta.dataset || me.createMetaDataset();\r\n\t},\r\n\r\n\taddElementAndReset: function(index) {\r\n\t\tvar element = this.createMetaData(index);\r\n\t\tthis.getMeta().data.splice(index, 0, element);\r\n\t\tthis.updateElement(element, index, true);\r\n\t},\r\n\r\n\tbuildOrUpdateElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar data = dataset.data || (dataset.data = []);\r\n\r\n\t\t// In order to correctly handle data addition/deletion animation (an thus simulate\r\n\t\t// real-time charts), we need to monitor these data modifications and synchronize\r\n\t\t// the internal meta data accordingly.\r\n\t\tif (me._data !== data) {\r\n\t\t\tif (me._data) {\r\n\t\t\t\t// This case happens when the user replaced the data array instance.\r\n\t\t\t\tunlistenArrayEvents(me._data, me);\r\n\t\t\t}\r\n\r\n\t\t\tif (data && Object.isExtensible(data)) {\r\n\t\t\t\tlistenArrayEvents(data, me);\r\n\t\t\t}\r\n\t\t\tme._data = data;\r\n\t\t}\r\n\r\n\t\t// Re-sync meta data in case the user replaced the data array or if we missed\r\n\t\t// any updates and so make sure that we handle number of datapoints changing.\r\n\t\tme.resyncElements();\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the merged user-supplied and default dataset-level options\r\n\t * @private\r\n\t */\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tme._config = helpers$1.merge(Object.create(null), [\r\n\t\t\tme.chart.options.datasets[me._type],\r\n\t\t\tme.getDataset(),\r\n\t\t], {\r\n\t\t\tmerger: function(key, target, source) {\r\n\t\t\t\tif (key !== '_meta' && key !== 'data') {\r\n\t\t\t\t\thelpers$1._merger(key, target, source);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t_update: function(reset) {\r\n\t\tvar me = this;\r\n\t\tme._configure();\r\n\t\tme._cachedDataOpts = null;\r\n\t\tme.update(reset);\r\n\t},\r\n\r\n\tupdate: helpers$1.noop,\r\n\r\n\ttransition: function(easingValue) {\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar elements = meta.data || [];\r\n\t\tvar ilen = elements.length;\r\n\t\tvar i = 0;\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\telements[i].transition(easingValue);\r\n\t\t}\r\n\r\n\t\tif (meta.dataset) {\r\n\t\t\tmeta.dataset.transition(easingValue);\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar elements = meta.data || [];\r\n\t\tvar ilen = elements.length;\r\n\t\tvar i = 0;\r\n\r\n\t\tif (meta.dataset) {\r\n\t\t\tmeta.dataset.draw();\r\n\t\t}\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\telements[i].draw();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a set of predefined style properties that should be used to represent the dataset\r\n\t * or the data if the index is specified\r\n\t * @param {number} index - data index\r\n\t * @return {IStyleInterface} style object\r\n\t */\r\n\tgetStyle: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar dataset = meta.dataset;\r\n\t\tvar style;\r\n\r\n\t\tme._configure();\r\n\t\tif (dataset && index === undefined) {\r\n\t\t\tstyle = me._resolveDatasetElementOptions(dataset || {});\r\n\t\t} else {\r\n\t\t\tindex = index || 0;\r\n\t\t\tstyle = me._resolveDataElementOptions(meta.data[index] || {}, index);\r\n\t\t}\r\n\r\n\t\tif (style.fill === false || style.fill === null) {\r\n\t\t\tstyle.backgroundColor = style.borderColor;\r\n\t\t}\r\n\r\n\t\treturn style;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function(element, hover) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasetOpts = me._config;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar options = chart.options.elements[me.datasetElementType.prototype._type] || {};\r\n\t\tvar elementOptions = me._datasetElementOptions;\r\n\t\tvar values = {};\r\n\t\tvar i, ilen, key, readKey;\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataset: me.getDataset(),\r\n\t\t\tdatasetIndex: me.index,\r\n\t\t\thover: hover\r\n\t\t};\r\n\r\n\t\tfor (i = 0, ilen = elementOptions.length; i < ilen; ++i) {\r\n\t\t\tkey = elementOptions[i];\r\n\t\t\treadKey = hover ? 'hover' + key.charAt(0).toUpperCase() + key.slice(1) : key;\r\n\t\t\tvalues[key] = resolve([\r\n\t\t\t\tcustom[readKey],\r\n\t\t\t\tdatasetOpts[readKey],\r\n\t\t\t\toptions[readKey]\r\n\t\t\t], context);\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function(element, index) {\r\n\t\tvar me = this;\r\n\t\tvar custom = element && element.custom;\r\n\t\tvar cached = me._cachedDataOpts;\r\n\t\tif (cached && !custom) {\r\n\t\t\treturn cached;\r\n\t\t}\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasetOpts = me._config;\r\n\t\tvar options = chart.options.elements[me.dataElementType.prototype._type] || {};\r\n\t\tvar elementOptions = me._dataElementOptions;\r\n\t\tvar values = {};\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: me.getDataset(),\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\t// `resolve` sets cacheable to `false` if any option is indexed or scripted\r\n\t\tvar info = {cacheable: !custom};\r\n\r\n\t\tvar keys, i, ilen, key;\r\n\r\n\t\tcustom = custom || {};\r\n\r\n\t\tif (helpers$1.isArray(elementOptions)) {\r\n\t\t\tfor (i = 0, ilen = elementOptions.length; i < ilen; ++i) {\r\n\t\t\t\tkey = elementOptions[i];\r\n\t\t\t\tvalues[key] = resolve([\r\n\t\t\t\t\tcustom[key],\r\n\t\t\t\t\tdatasetOpts[key],\r\n\t\t\t\t\toptions[key]\r\n\t\t\t\t], context, index, info);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tkeys = Object.keys(elementOptions);\r\n\t\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\t\t\tkey = keys[i];\r\n\t\t\t\tvalues[key] = resolve([\r\n\t\t\t\t\tcustom[key],\r\n\t\t\t\t\tdatasetOpts[elementOptions[key]],\r\n\t\t\t\t\tdatasetOpts[key],\r\n\t\t\t\t\toptions[key]\r\n\t\t\t\t], context, index, info);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (info.cacheable) {\r\n\t\t\tme._cachedDataOpts = Object.freeze(values);\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tremoveHoverStyle: function(element) {\r\n\t\thelpers$1.merge(element._model, element.$previousStyle || {});\r\n\t\tdelete element.$previousStyle;\r\n\t},\r\n\r\n\tsetHoverStyle: function(element) {\r\n\t\tvar dataset = this.chart.data.datasets[element._datasetIndex];\r\n\t\tvar index = element._index;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar model = element._model;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\telement.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = resolve([custom.hoverBackgroundColor, dataset.hoverBackgroundColor, getHoverColor(model.backgroundColor)], undefined, index);\r\n\t\tmodel.borderColor = resolve([custom.hoverBorderColor, dataset.hoverBorderColor, getHoverColor(model.borderColor)], undefined, index);\r\n\t\tmodel.borderWidth = resolve([custom.hoverBorderWidth, dataset.hoverBorderWidth, model.borderWidth], undefined, index);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_removeDatasetHoverStyle: function() {\r\n\t\tvar element = this.getMeta().dataset;\r\n\r\n\t\tif (element) {\r\n\t\t\tthis.removeHoverStyle(element);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_setDatasetHoverStyle: function() {\r\n\t\tvar element = this.getMeta().dataset;\r\n\t\tvar prev = {};\r\n\t\tvar i, ilen, key, keys, hoverOptions, model;\r\n\r\n\t\tif (!element) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmodel = element._model;\r\n\t\thoverOptions = this._resolveDatasetElementOptions(element, true);\r\n\r\n\t\tkeys = Object.keys(hoverOptions);\r\n\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\t\tkey = keys[i];\r\n\t\t\tprev[key] = model[key];\r\n\t\t\tmodel[key] = hoverOptions[key];\r\n\t\t}\r\n\r\n\t\telement.$previousStyle = prev;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tresyncElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar data = me.getDataset().data;\r\n\t\tvar numMeta = meta.data.length;\r\n\t\tvar numData = data.length;\r\n\r\n\t\tif (numData < numMeta) {\r\n\t\t\tmeta.data.splice(numData, numMeta - numData);\r\n\t\t} else if (numData > numMeta) {\r\n\t\t\tme.insertElements(numMeta, numData - numMeta);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tinsertElements: function(start, count) {\r\n\t\tfor (var i = 0; i < count; ++i) {\r\n\t\t\tthis.addElementAndReset(start + i);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataPush: function() {\r\n\t\tvar count = arguments.length;\r\n\t\tthis.insertElements(this.getDataset().data.length - count, count);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataPop: function() {\r\n\t\tthis.getMeta().data.pop();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataShift: function() {\r\n\t\tthis.getMeta().data.shift();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataSplice: function(start, count) {\r\n\t\tthis.getMeta().data.splice(start, count);\r\n\t\tthis.insertElements(start, arguments.length - 2);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataUnshift: function() {\r\n\t\tthis.insertElements(0, arguments.length);\r\n\t}\r\n});\r\n\r\nDatasetController.extend = helpers$1.inherits;\r\n\r\nvar core_datasetController = DatasetController;\n\nvar TAU = Math.PI * 2;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tarc: {\r\n\t\t\tbackgroundColor: core_defaults.global.defaultColor,\r\n\t\t\tborderColor: '#fff',\r\n\t\t\tborderWidth: 2,\r\n\t\t\tborderAlign: 'center'\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction clipArc(ctx, arc) {\r\n\tvar startAngle = arc.startAngle;\r\n\tvar endAngle = arc.endAngle;\r\n\tvar pixelMargin = arc.pixelMargin;\r\n\tvar angleMargin = pixelMargin / arc.outerRadius;\r\n\tvar x = arc.x;\r\n\tvar y = arc.y;\r\n\r\n\t// Draw an inner border by cliping the arc and drawing a double-width border\r\n\t// Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\r\n\tctx.beginPath();\r\n\tctx.arc(x, y, arc.outerRadius, startAngle - angleMargin, endAngle + angleMargin);\r\n\tif (arc.innerRadius > pixelMargin) {\r\n\t\tangleMargin = pixelMargin / arc.innerRadius;\r\n\t\tctx.arc(x, y, arc.innerRadius - pixelMargin, endAngle + angleMargin, startAngle - angleMargin, true);\r\n\t} else {\r\n\t\tctx.arc(x, y, pixelMargin, endAngle + Math.PI / 2, startAngle - Math.PI / 2);\r\n\t}\r\n\tctx.closePath();\r\n\tctx.clip();\r\n}\r\n\r\nfunction drawFullCircleBorders(ctx, vm, arc, inner) {\r\n\tvar endAngle = arc.endAngle;\r\n\tvar i;\r\n\r\n\tif (inner) {\r\n\t\tarc.endAngle = arc.startAngle + TAU;\r\n\t\tclipArc(ctx, arc);\r\n\t\tarc.endAngle = endAngle;\r\n\t\tif (arc.endAngle === arc.startAngle && arc.fullCircles) {\r\n\t\t\tarc.endAngle += TAU;\r\n\t\t\tarc.fullCircles--;\r\n\t\t}\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.startAngle + TAU, arc.startAngle, true);\r\n\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, vm.outerRadius, arc.startAngle, arc.startAngle + TAU);\r\n\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\tctx.stroke();\r\n\t}\r\n}\r\n\r\nfunction drawBorder(ctx, vm, arc) {\r\n\tvar inner = vm.borderAlign === 'inner';\r\n\r\n\tif (inner) {\r\n\t\tctx.lineWidth = vm.borderWidth * 2;\r\n\t\tctx.lineJoin = 'round';\r\n\t} else {\r\n\t\tctx.lineWidth = vm.borderWidth;\r\n\t\tctx.lineJoin = 'bevel';\r\n\t}\r\n\r\n\tif (arc.fullCircles) {\r\n\t\tdrawFullCircleBorders(ctx, vm, arc, inner);\r\n\t}\r\n\r\n\tif (inner) {\r\n\t\tclipArc(ctx, arc);\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, vm.outerRadius, arc.startAngle, arc.endAngle);\r\n\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\tctx.closePath();\r\n\tctx.stroke();\r\n}\r\n\r\nvar element_arc = core_element.extend({\r\n\t_type: 'arc',\r\n\r\n\tinLabelRange: function(mouseX) {\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm) {\r\n\t\t\treturn (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hoverRadius, 2));\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tinRange: function(chartX, chartY) {\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm) {\r\n\t\t\tvar pointRelativePosition = helpers$1.getAngleFromPoint(vm, {x: chartX, y: chartY});\r\n\t\t\tvar angle = pointRelativePosition.angle;\r\n\t\t\tvar distance = pointRelativePosition.distance;\r\n\r\n\t\t\t// Sanitise angle range\r\n\t\t\tvar startAngle = vm.startAngle;\r\n\t\t\tvar endAngle = vm.endAngle;\r\n\t\t\twhile (endAngle < startAngle) {\r\n\t\t\t\tendAngle += TAU;\r\n\t\t\t}\r\n\t\t\twhile (angle > endAngle) {\r\n\t\t\t\tangle -= TAU;\r\n\t\t\t}\r\n\t\t\twhile (angle < startAngle) {\r\n\t\t\t\tangle += TAU;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if within the range of the open/close angle\r\n\t\t\tvar betweenAngles = (angle >= startAngle && angle <= endAngle);\r\n\t\t\tvar withinRadius = (distance >= vm.innerRadius && distance <= vm.outerRadius);\r\n\r\n\t\t\treturn (betweenAngles && withinRadius);\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar halfAngle = (vm.startAngle + vm.endAngle) / 2;\r\n\t\tvar halfRadius = (vm.innerRadius + vm.outerRadius) / 2;\r\n\t\treturn {\r\n\t\t\tx: vm.x + Math.cos(halfAngle) * halfRadius,\r\n\t\t\ty: vm.y + Math.sin(halfAngle) * halfRadius\r\n\t\t};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn Math.PI * ((vm.endAngle - vm.startAngle) / (2 * Math.PI)) * (Math.pow(vm.outerRadius, 2) - Math.pow(vm.innerRadius, 2));\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar centreAngle = vm.startAngle + ((vm.endAngle - vm.startAngle) / 2);\r\n\t\tvar rangeFromCentre = (vm.outerRadius - vm.innerRadius) / 2 + vm.innerRadius;\r\n\r\n\t\treturn {\r\n\t\t\tx: vm.x + (Math.cos(centreAngle) * rangeFromCentre),\r\n\t\t\ty: vm.y + (Math.sin(centreAngle) * rangeFromCentre)\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar pixelMargin = (vm.borderAlign === 'inner') ? 0.33 : 0;\r\n\t\tvar arc = {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y,\r\n\t\t\tinnerRadius: vm.innerRadius,\r\n\t\t\touterRadius: Math.max(vm.outerRadius - pixelMargin, 0),\r\n\t\t\tpixelMargin: pixelMargin,\r\n\t\t\tstartAngle: vm.startAngle,\r\n\t\t\tendAngle: vm.endAngle,\r\n\t\t\tfullCircles: Math.floor(vm.circumference / TAU)\r\n\t\t};\r\n\t\tvar i;\r\n\r\n\t\tctx.save();\r\n\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.strokeStyle = vm.borderColor;\r\n\r\n\t\tif (arc.fullCircles) {\r\n\t\t\tarc.endAngle = arc.startAngle + TAU;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(arc.x, arc.y, arc.outerRadius, arc.startAngle, arc.endAngle);\r\n\t\t\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\t\t\tctx.closePath();\r\n\t\t\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\t\t\tctx.fill();\r\n\t\t\t}\r\n\t\t\tarc.endAngle = arc.startAngle + vm.circumference % TAU;\r\n\t\t}\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(arc.x, arc.y, arc.outerRadius, arc.startAngle, arc.endAngle);\r\n\t\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\r\n\t\tif (vm.borderWidth) {\r\n\t\t\tdrawBorder(ctx, vm, arc);\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\t}\r\n});\n\nvar valueOrDefault$1 = helpers$1.valueOrDefault;\r\n\r\nvar defaultColor = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tline: {\r\n\t\t\ttension: 0.4,\r\n\t\t\tbackgroundColor: defaultColor,\r\n\t\t\tborderWidth: 3,\r\n\t\t\tborderColor: defaultColor,\r\n\t\t\tborderCapStyle: 'butt',\r\n\t\t\tborderDash: [],\r\n\t\t\tborderDashOffset: 0.0,\r\n\t\t\tborderJoinStyle: 'miter',\r\n\t\t\tcapBezierPoints: true,\r\n\t\t\tfill: true, // do we fill in the area between the line and its base axis\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar element_line = core_element.extend({\r\n\t_type: 'line',\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar vm = me._view;\r\n\t\tvar ctx = me._chart.ctx;\r\n\t\tvar spanGaps = vm.spanGaps;\r\n\t\tvar points = me._children.slice(); // clone array\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar globalOptionLineElements = globalDefaults.elements.line;\r\n\t\tvar lastDrawnIndex = -1;\r\n\t\tvar closePath = me._loop;\r\n\t\tvar index, previous, currentVM;\r\n\r\n\t\tif (!points.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (me._loop) {\r\n\t\t\tfor (index = 0; index < points.length; ++index) {\r\n\t\t\t\tprevious = helpers$1.previousItem(points, index);\r\n\t\t\t\t// If the line has an open path, shift the point array\r\n\t\t\t\tif (!points[index]._view.skip && previous._view.skip) {\r\n\t\t\t\t\tpoints = points.slice(index).concat(points.slice(0, index));\r\n\t\t\t\t\tclosePath = spanGaps;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// If the line has a close path, add the first point again\r\n\t\t\tif (closePath) {\r\n\t\t\t\tpoints.push(points[0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\r\n\t\t// Stroke Line Options\r\n\t\tctx.lineCap = vm.borderCapStyle || globalOptionLineElements.borderCapStyle;\r\n\r\n\t\t// IE 9 and 10 do not support line dash\r\n\t\tif (ctx.setLineDash) {\r\n\t\t\tctx.setLineDash(vm.borderDash || globalOptionLineElements.borderDash);\r\n\t\t}\r\n\r\n\t\tctx.lineDashOffset = valueOrDefault$1(vm.borderDashOffset, globalOptionLineElements.borderDashOffset);\r\n\t\tctx.lineJoin = vm.borderJoinStyle || globalOptionLineElements.borderJoinStyle;\r\n\t\tctx.lineWidth = valueOrDefault$1(vm.borderWidth, globalOptionLineElements.borderWidth);\r\n\t\tctx.strokeStyle = vm.borderColor || globalDefaults.defaultColor;\r\n\r\n\t\t// Stroke Line\r\n\t\tctx.beginPath();\r\n\r\n\t\t// First point moves to it's starting position no matter what\r\n\t\tcurrentVM = points[0]._view;\r\n\t\tif (!currentVM.skip) {\r\n\t\t\tctx.moveTo(currentVM.x, currentVM.y);\r\n\t\t\tlastDrawnIndex = 0;\r\n\t\t}\r\n\r\n\t\tfor (index = 1; index < points.length; ++index) {\r\n\t\t\tcurrentVM = points[index]._view;\r\n\t\t\tprevious = lastDrawnIndex === -1 ? helpers$1.previousItem(points, index) : points[lastDrawnIndex];\r\n\r\n\t\t\tif (!currentVM.skip) {\r\n\t\t\t\tif ((lastDrawnIndex !== (index - 1) && !spanGaps) || lastDrawnIndex === -1) {\r\n\t\t\t\t\t// There was a gap and this is the first point after the gap\r\n\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Line to next point\r\n\t\t\t\t\thelpers$1.canvas.lineTo(ctx, previous._view, currentVM);\r\n\t\t\t\t}\r\n\t\t\t\tlastDrawnIndex = index;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (closePath) {\r\n\t\t\tctx.closePath();\r\n\t\t}\r\n\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\t}\r\n});\n\nvar valueOrDefault$2 = helpers$1.valueOrDefault;\r\n\r\nvar defaultColor$1 = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tpoint: {\r\n\t\t\tradius: 3,\r\n\t\t\tpointStyle: 'circle',\r\n\t\t\tbackgroundColor: defaultColor$1,\r\n\t\t\tborderColor: defaultColor$1,\r\n\t\t\tborderWidth: 1,\r\n\t\t\t// Hover\r\n\t\t\thitRadius: 1,\r\n\t\t\thoverRadius: 4,\r\n\t\t\thoverBorderWidth: 1\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction xRange(mouseX) {\r\n\tvar vm = this._view;\r\n\treturn vm ? (Math.abs(mouseX - vm.x) < vm.radius + vm.hitRadius) : false;\r\n}\r\n\r\nfunction yRange(mouseY) {\r\n\tvar vm = this._view;\r\n\treturn vm ? (Math.abs(mouseY - vm.y) < vm.radius + vm.hitRadius) : false;\r\n}\r\n\r\nvar element_point = core_element.extend({\r\n\t_type: 'point',\r\n\r\n\tinRange: function(mouseX, mouseY) {\r\n\t\tvar vm = this._view;\r\n\t\treturn vm ? ((Math.pow(mouseX - vm.x, 2) + Math.pow(mouseY - vm.y, 2)) < Math.pow(vm.hitRadius + vm.radius, 2)) : false;\r\n\t},\r\n\r\n\tinLabelRange: xRange,\r\n\tinXRange: xRange,\r\n\tinYRange: yRange,\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\treturn Math.PI * Math.pow(this._view.radius, 2);\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y,\r\n\t\t\tpadding: vm.radius + vm.borderWidth\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function(chartArea) {\r\n\t\tvar vm = this._view;\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar pointStyle = vm.pointStyle;\r\n\t\tvar rotation = vm.rotation;\r\n\t\tvar radius = vm.radius;\r\n\t\tvar x = vm.x;\r\n\t\tvar y = vm.y;\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar defaultColor = globalDefaults.defaultColor; // eslint-disable-line no-shadow\r\n\r\n\t\tif (vm.skip) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Clipping for Points.\r\n\t\tif (chartArea === undefined || helpers$1.canvas._isPointInArea(vm, chartArea)) {\r\n\t\t\tctx.strokeStyle = vm.borderColor || defaultColor;\r\n\t\t\tctx.lineWidth = valueOrDefault$2(vm.borderWidth, globalDefaults.elements.point.borderWidth);\r\n\t\t\tctx.fillStyle = vm.backgroundColor || defaultColor;\r\n\t\t\thelpers$1.canvas.drawPoint(ctx, pointStyle, radius, x, y, rotation);\r\n\t\t}\r\n\t}\r\n});\n\nvar defaultColor$2 = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\trectangle: {\r\n\t\t\tbackgroundColor: defaultColor$2,\r\n\t\t\tborderColor: defaultColor$2,\r\n\t\t\tborderSkipped: 'bottom',\r\n\t\t\tborderWidth: 0\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction isVertical(vm) {\r\n\treturn vm && vm.width !== undefined;\r\n}\r\n\r\n/**\r\n * Helper function to get the bounds of the bar regardless of the orientation\r\n * @param bar {Chart.Element.Rectangle} the bar\r\n * @return {Bounds} bounds of the bar\r\n * @private\r\n */\r\nfunction getBarBounds(vm) {\r\n\tvar x1, x2, y1, y2, half;\r\n\r\n\tif (isVertical(vm)) {\r\n\t\thalf = vm.width / 2;\r\n\t\tx1 = vm.x - half;\r\n\t\tx2 = vm.x + half;\r\n\t\ty1 = Math.min(vm.y, vm.base);\r\n\t\ty2 = Math.max(vm.y, vm.base);\r\n\t} else {\r\n\t\thalf = vm.height / 2;\r\n\t\tx1 = Math.min(vm.x, vm.base);\r\n\t\tx2 = Math.max(vm.x, vm.base);\r\n\t\ty1 = vm.y - half;\r\n\t\ty2 = vm.y + half;\r\n\t}\r\n\r\n\treturn {\r\n\t\tleft: x1,\r\n\t\ttop: y1,\r\n\t\tright: x2,\r\n\t\tbottom: y2\r\n\t};\r\n}\r\n\r\nfunction swap(orig, v1, v2) {\r\n\treturn orig === v1 ? v2 : orig === v2 ? v1 : orig;\r\n}\r\n\r\nfunction parseBorderSkipped(vm) {\r\n\tvar edge = vm.borderSkipped;\r\n\tvar res = {};\r\n\r\n\tif (!edge) {\r\n\t\treturn res;\r\n\t}\r\n\r\n\tif (vm.horizontal) {\r\n\t\tif (vm.base > vm.x) {\r\n\t\t\tedge = swap(edge, 'left', 'right');\r\n\t\t}\r\n\t} else if (vm.base < vm.y) {\r\n\t\tedge = swap(edge, 'bottom', 'top');\r\n\t}\r\n\r\n\tres[edge] = true;\r\n\treturn res;\r\n}\r\n\r\nfunction parseBorderWidth(vm, maxW, maxH) {\r\n\tvar value = vm.borderWidth;\r\n\tvar skip = parseBorderSkipped(vm);\r\n\tvar t, r, b, l;\r\n\r\n\tif (helpers$1.isObject(value)) {\r\n\t\tt = +value.top || 0;\r\n\t\tr = +value.right || 0;\r\n\t\tb = +value.bottom || 0;\r\n\t\tl = +value.left || 0;\r\n\t} else {\r\n\t\tt = r = b = l = +value || 0;\r\n\t}\r\n\r\n\treturn {\r\n\t\tt: skip.top || (t < 0) ? 0 : t > maxH ? maxH : t,\r\n\t\tr: skip.right || (r < 0) ? 0 : r > maxW ? maxW : r,\r\n\t\tb: skip.bottom || (b < 0) ? 0 : b > maxH ? maxH : b,\r\n\t\tl: skip.left || (l < 0) ? 0 : l > maxW ? maxW : l\r\n\t};\r\n}\r\n\r\nfunction boundingRects(vm) {\r\n\tvar bounds = getBarBounds(vm);\r\n\tvar width = bounds.right - bounds.left;\r\n\tvar height = bounds.bottom - bounds.top;\r\n\tvar border = parseBorderWidth(vm, width / 2, height / 2);\r\n\r\n\treturn {\r\n\t\touter: {\r\n\t\t\tx: bounds.left,\r\n\t\t\ty: bounds.top,\r\n\t\t\tw: width,\r\n\t\t\th: height\r\n\t\t},\r\n\t\tinner: {\r\n\t\t\tx: bounds.left + border.l,\r\n\t\t\ty: bounds.top + border.t,\r\n\t\t\tw: width - border.l - border.r,\r\n\t\t\th: height - border.t - border.b\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction inRange(vm, x, y) {\r\n\tvar skipX = x === null;\r\n\tvar skipY = y === null;\r\n\tvar bounds = !vm || (skipX && skipY) ? false : getBarBounds(vm);\r\n\r\n\treturn bounds\r\n\t\t&& (skipX || x >= bounds.left && x <= bounds.right)\r\n\t\t&& (skipY || y >= bounds.top && y <= bounds.bottom);\r\n}\r\n\r\nvar element_rectangle = core_element.extend({\r\n\t_type: 'rectangle',\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar rects = boundingRects(vm);\r\n\t\tvar outer = rects.outer;\r\n\t\tvar inner = rects.inner;\r\n\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.fillRect(outer.x, outer.y, outer.w, outer.h);\r\n\r\n\t\tif (outer.w === inner.w && outer.h === inner.h) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(outer.x, outer.y, outer.w, outer.h);\r\n\t\tctx.clip();\r\n\t\tctx.fillStyle = vm.borderColor;\r\n\t\tctx.rect(inner.x, inner.y, inner.w, inner.h);\r\n\t\tctx.fill('evenodd');\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\theight: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn vm.base - vm.y;\r\n\t},\r\n\r\n\tinRange: function(mouseX, mouseY) {\r\n\t\treturn inRange(this._view, mouseX, mouseY);\r\n\t},\r\n\r\n\tinLabelRange: function(mouseX, mouseY) {\r\n\t\tvar vm = this._view;\r\n\t\treturn isVertical(vm)\r\n\t\t\t? inRange(vm, mouseX, null)\r\n\t\t\t: inRange(vm, null, mouseY);\r\n\t},\r\n\r\n\tinXRange: function(mouseX) {\r\n\t\treturn inRange(this._view, mouseX, null);\r\n\t},\r\n\r\n\tinYRange: function(mouseY) {\r\n\t\treturn inRange(this._view, null, mouseY);\r\n\t},\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar x, y;\r\n\t\tif (isVertical(vm)) {\r\n\t\t\tx = vm.x;\r\n\t\t\ty = (vm.y + vm.base) / 2;\r\n\t\t} else {\r\n\t\t\tx = (vm.x + vm.base) / 2;\r\n\t\t\ty = vm.y;\r\n\t\t}\r\n\r\n\t\treturn {x: x, y: y};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\tvar vm = this._view;\r\n\r\n\t\treturn isVertical(vm)\r\n\t\t\t? vm.width * Math.abs(vm.y - vm.base)\r\n\t\t\t: vm.height * Math.abs(vm.x - vm.base);\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\t}\r\n});\n\nvar elements = {};\r\nvar Arc = element_arc;\r\nvar Line = element_line;\r\nvar Point = element_point;\r\nvar Rectangle = element_rectangle;\nelements.Arc = Arc;\nelements.Line = Line;\nelements.Point = Point;\nelements.Rectangle = Rectangle;\n\nvar deprecated = helpers$1._deprecated;\r\nvar valueOrDefault$3 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('bar', {\r\n\thover: {\r\n\t\tmode: 'label'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\toffset: true,\r\n\t\t\tgridLines: {\r\n\t\t\t\toffsetGridLines: true\r\n\t\t\t}\r\n\t\t}],\r\n\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear'\r\n\t\t}]\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\tbar: {\r\n\t\t\tcategoryPercentage: 0.8,\r\n\t\t\tbarPercentage: 0.9\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/**\r\n * Computes the \"optimal\" sample size to maintain bars equally sized while preventing overlap.\r\n * @private\r\n */\r\nfunction computeMinSampleSize(scale, pixels) {\r\n\tvar min = scale._length;\r\n\tvar prev, curr, i, ilen;\r\n\r\n\tfor (i = 1, ilen = pixels.length; i < ilen; ++i) {\r\n\t\tmin = Math.min(min, Math.abs(pixels[i] - pixels[i - 1]));\r\n\t}\r\n\r\n\tfor (i = 0, ilen = scale.getTicks().length; i < ilen; ++i) {\r\n\t\tcurr = scale.getPixelForTick(i);\r\n\t\tmin = i > 0 ? Math.min(min, Math.abs(curr - prev)) : min;\r\n\t\tprev = curr;\r\n\t}\r\n\r\n\treturn min;\r\n}\r\n\r\n/**\r\n * Computes an \"ideal\" category based on the absolute bar thickness or, if undefined or null,\r\n * uses the smallest interval (see computeMinSampleSize) that prevents bar overlapping. This\r\n * mode currently always generates bars equally sized (until we introduce scriptable options?).\r\n * @private\r\n */\r\nfunction computeFitCategoryTraits(index, ruler, options) {\r\n\tvar thickness = options.barThickness;\r\n\tvar count = ruler.stackCount;\r\n\tvar curr = ruler.pixels[index];\r\n\tvar min = helpers$1.isNullOrUndef(thickness)\r\n\t\t? computeMinSampleSize(ruler.scale, ruler.pixels)\r\n\t\t: -1;\r\n\tvar size, ratio;\r\n\r\n\tif (helpers$1.isNullOrUndef(thickness)) {\r\n\t\tsize = min * options.categoryPercentage;\r\n\t\tratio = options.barPercentage;\r\n\t} else {\r\n\t\t// When bar thickness is enforced, category and bar percentages are ignored.\r\n\t\t// Note(SB): we could add support for relative bar thickness (e.g. barThickness: '50%')\r\n\t\t// and deprecate barPercentage since this value is ignored when thickness is absolute.\r\n\t\tsize = thickness * count;\r\n\t\tratio = 1;\r\n\t}\r\n\r\n\treturn {\r\n\t\tchunk: size / count,\r\n\t\tratio: ratio,\r\n\t\tstart: curr - (size / 2)\r\n\t};\r\n}\r\n\r\n/**\r\n * Computes an \"optimal\" category that globally arranges bars side by side (no gap when\r\n * percentage options are 1), based on the previous and following categories. This mode\r\n * generates bars with different widths when data are not evenly spaced.\r\n * @private\r\n */\r\nfunction computeFlexCategoryTraits(index, ruler, options) {\r\n\tvar pixels = ruler.pixels;\r\n\tvar curr = pixels[index];\r\n\tvar prev = index > 0 ? pixels[index - 1] : null;\r\n\tvar next = index < pixels.length - 1 ? pixels[index + 1] : null;\r\n\tvar percent = options.categoryPercentage;\r\n\tvar start, size;\r\n\r\n\tif (prev === null) {\r\n\t\t// first data: its size is double based on the next point or,\r\n\t\t// if it's also the last data, we use the scale size.\r\n\t\tprev = curr - (next === null ? ruler.end - ruler.start : next - curr);\r\n\t}\r\n\r\n\tif (next === null) {\r\n\t\t// last data: its size is also double based on the previous point.\r\n\t\tnext = curr + curr - prev;\r\n\t}\r\n\r\n\tstart = curr - (curr - Math.min(prev, next)) / 2 * percent;\r\n\tsize = Math.abs(next - prev) / 2 * percent;\r\n\r\n\treturn {\r\n\t\tchunk: size / ruler.stackCount,\r\n\t\tratio: options.barPercentage,\r\n\t\tstart: start\r\n\t};\r\n}\r\n\r\nvar controller_bar = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Rectangle,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderSkipped',\r\n\t\t'borderWidth',\r\n\t\t'barPercentage',\r\n\t\t'barThickness',\r\n\t\t'categoryPercentage',\r\n\t\t'maxBarThickness',\r\n\t\t'minBarLength'\r\n\t],\r\n\r\n\tinitialize: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta, scaleOpts;\r\n\r\n\t\tcore_datasetController.prototype.initialize.apply(me, arguments);\r\n\r\n\t\tmeta = me.getMeta();\r\n\t\tmeta.stack = me.getDataset().stack;\r\n\t\tmeta.bar = true;\r\n\r\n\t\tscaleOpts = me._getIndexScale().options;\r\n\t\tdeprecated('bar chart', scaleOpts.barPercentage, 'scales.[x/y]Axes.barPercentage', 'dataset.barPercentage');\r\n\t\tdeprecated('bar chart', scaleOpts.barThickness, 'scales.[x/y]Axes.barThickness', 'dataset.barThickness');\r\n\t\tdeprecated('bar chart', scaleOpts.categoryPercentage, 'scales.[x/y]Axes.categoryPercentage', 'dataset.categoryPercentage');\r\n\t\tdeprecated('bar chart', me._getValueScale().options.minBarLength, 'scales.[x/y]Axes.minBarLength', 'dataset.minBarLength');\r\n\t\tdeprecated('bar chart', scaleOpts.maxBarThickness, 'scales.[x/y]Axes.maxBarThickness', 'dataset.maxBarThickness');\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar rects = me.getMeta().data;\r\n\t\tvar i, ilen;\r\n\r\n\t\tme._ruler = me.getRuler();\r\n\r\n\t\tfor (i = 0, ilen = rects.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(rects[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(rectangle, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar options = me._resolveDataElementOptions(rectangle, index);\r\n\r\n\t\trectangle._xScale = me.getScaleForId(meta.xAxisID);\r\n\t\trectangle._yScale = me.getScaleForId(meta.yAxisID);\r\n\t\trectangle._datasetIndex = me.index;\r\n\t\trectangle._index = index;\r\n\t\trectangle._model = {\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderSkipped: options.borderSkipped,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\tdatasetLabel: dataset.label,\r\n\t\t\tlabel: me.chart.data.labels[index]\r\n\t\t};\r\n\r\n\t\tif (helpers$1.isArray(dataset.data[index])) {\r\n\t\t\trectangle._model.borderSkipped = null;\r\n\t\t}\r\n\r\n\t\tme._updateElementGeometry(rectangle, index, reset, options);\r\n\r\n\t\trectangle.pivot();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_updateElementGeometry: function(rectangle, index, reset, options) {\r\n\t\tvar me = this;\r\n\t\tvar model = rectangle._model;\r\n\t\tvar vscale = me._getValueScale();\r\n\t\tvar base = vscale.getBasePixel();\r\n\t\tvar horizontal = vscale.isHorizontal();\r\n\t\tvar ruler = me._ruler || me.getRuler();\r\n\t\tvar vpixels = me.calculateBarValuePixels(me.index, index, options);\r\n\t\tvar ipixels = me.calculateBarIndexPixels(me.index, index, ruler, options);\r\n\r\n\t\tmodel.horizontal = horizontal;\r\n\t\tmodel.base = reset ? base : vpixels.base;\r\n\t\tmodel.x = horizontal ? reset ? base : vpixels.head : ipixels.center;\r\n\t\tmodel.y = horizontal ? ipixels.center : reset ? base : vpixels.head;\r\n\t\tmodel.height = horizontal ? ipixels.size : undefined;\r\n\t\tmodel.width = horizontal ? undefined : ipixels.size;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the stacks based on groups and bar visibility.\r\n\t * @param {number} [last] - The dataset index\r\n\t * @returns {string[]} The list of stack IDs\r\n\t * @private\r\n\t */\r\n\t_getStacks: function(last) {\r\n\t\tvar me = this;\r\n\t\tvar scale = me._getIndexScale();\r\n\t\tvar metasets = scale._getMatchingVisibleMetas(me._type);\r\n\t\tvar stacked = scale.options.stacked;\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar stacks = [];\r\n\t\tvar i, meta;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tmeta = metasets[i];\r\n\t\t\t// stacked   | meta.stack\r\n\t\t\t//           | found | not found | undefined\r\n\t\t\t// false     |   x   |     x     |     x\r\n\t\t\t// true      |       |     x     |\r\n\t\t\t// undefined |       |     x     |     x\r\n\t\t\tif (stacked === false || stacks.indexOf(meta.stack) === -1 ||\r\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\r\n\t\t\t\tstacks.push(meta.stack);\r\n\t\t\t}\r\n\t\t\tif (meta.index === last) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn stacks;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the effective number of stacks based on groups and bar visibility.\r\n\t * @private\r\n\t */\r\n\tgetStackCount: function() {\r\n\t\treturn this._getStacks().length;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the stack index for the given dataset based on groups and bar visibility.\r\n\t * @param {number} [datasetIndex] - The dataset index\r\n\t * @param {string} [name] - The stack name to find\r\n\t * @returns {number} The stack index\r\n\t * @private\r\n\t */\r\n\tgetStackIndex: function(datasetIndex, name) {\r\n\t\tvar stacks = this._getStacks(datasetIndex);\r\n\t\tvar index = (name !== undefined)\r\n\t\t\t? stacks.indexOf(name)\r\n\t\t\t: -1; // indexOf returns -1 if element is not present\r\n\r\n\t\treturn (index === -1)\r\n\t\t\t? stacks.length - 1\r\n\t\t\t: index;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetRuler: function() {\r\n\t\tvar me = this;\r\n\t\tvar scale = me._getIndexScale();\r\n\t\tvar pixels = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = me.getMeta().data.length; i < ilen; ++i) {\r\n\t\t\tpixels.push(scale.getPixelForValue(null, i, me.index));\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tpixels: pixels,\r\n\t\t\tstart: scale._startPixel,\r\n\t\t\tend: scale._endPixel,\r\n\t\t\tstackCount: me.getStackCount(),\r\n\t\t\tscale: scale\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Note: pixel values are not clamped to the scale area.\r\n\t * @private\r\n\t */\r\n\tcalculateBarValuePixels: function(datasetIndex, index, options) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar scale = me._getValueScale();\r\n\t\tvar isHorizontal = scale.isHorizontal();\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar metasets = scale._getMatchingVisibleMetas(me._type);\r\n\t\tvar value = scale._parseValue(datasets[datasetIndex].data[index]);\r\n\t\tvar minBarLength = options.minBarLength;\r\n\t\tvar stacked = scale.options.stacked;\r\n\t\tvar stack = me.getMeta().stack;\r\n\t\tvar start = value.start === undefined ? 0 : value.max >= 0 && value.min >= 0 ? value.min : value.max;\r\n\t\tvar length = value.start === undefined ? value.end : value.max >= 0 && value.min >= 0 ? value.max - value.min : value.min - value.max;\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar i, imeta, ivalue, base, head, size, stackLength;\r\n\r\n\t\tif (stacked || (stacked === undefined && stack !== undefined)) {\r\n\t\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\t\timeta = metasets[i];\r\n\r\n\t\t\t\tif (imeta.index === datasetIndex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (imeta.stack === stack) {\r\n\t\t\t\t\tstackLength = scale._parseValue(datasets[imeta.index].data[index]);\r\n\t\t\t\t\tivalue = stackLength.start === undefined ? stackLength.end : stackLength.min >= 0 && stackLength.max >= 0 ? stackLength.max : stackLength.min;\r\n\r\n\t\t\t\t\tif ((value.min < 0 && ivalue < 0) || (value.max >= 0 && ivalue > 0)) {\r\n\t\t\t\t\t\tstart += ivalue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbase = scale.getPixelForValue(start);\r\n\t\thead = scale.getPixelForValue(start + length);\r\n\t\tsize = head - base;\r\n\r\n\t\tif (minBarLength !== undefined && Math.abs(size) < minBarLength) {\r\n\t\t\tsize = minBarLength;\r\n\t\t\tif (length >= 0 && !isHorizontal || length < 0 && isHorizontal) {\r\n\t\t\t\thead = base - minBarLength;\r\n\t\t\t} else {\r\n\t\t\t\thead = base + minBarLength;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tsize: size,\r\n\t\t\tbase: base,\r\n\t\t\thead: head,\r\n\t\t\tcenter: head + size / 2\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tcalculateBarIndexPixels: function(datasetIndex, index, ruler, options) {\r\n\t\tvar me = this;\r\n\t\tvar range = options.barThickness === 'flex'\r\n\t\t\t? computeFlexCategoryTraits(index, ruler, options)\r\n\t\t\t: computeFitCategoryTraits(index, ruler, options);\r\n\r\n\t\tvar stackIndex = me.getStackIndex(datasetIndex, me.getMeta().stack);\r\n\t\tvar center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\r\n\t\tvar size = Math.min(\r\n\t\t\tvalueOrDefault$3(options.maxBarThickness, Infinity),\r\n\t\t\trange.chunk * range.ratio);\r\n\r\n\t\treturn {\r\n\t\t\tbase: center - size / 2,\r\n\t\t\thead: center + size / 2,\r\n\t\t\tcenter: center,\r\n\t\t\tsize: size\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar scale = me._getValueScale();\r\n\t\tvar rects = me.getMeta().data;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar ilen = rects.length;\r\n\t\tvar i = 0;\r\n\r\n\t\thelpers$1.canvas.clipArea(chart.ctx, chart.chartArea);\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tvar val = scale._parseValue(dataset.data[i]);\r\n\t\t\tif (!isNaN(val.min) && !isNaN(val.max)) {\r\n\t\t\t\trects[i].draw();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thelpers$1.canvas.unclipArea(chart.ctx);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar values = helpers$1.extend({}, core_datasetController.prototype._resolveDataElementOptions.apply(me, arguments));\r\n\t\tvar indexOpts = me._getIndexScale().options;\r\n\t\tvar valueOpts = me._getValueScale().options;\r\n\r\n\t\tvalues.barPercentage = valueOrDefault$3(indexOpts.barPercentage, values.barPercentage);\r\n\t\tvalues.barThickness = valueOrDefault$3(indexOpts.barThickness, values.barThickness);\r\n\t\tvalues.categoryPercentage = valueOrDefault$3(indexOpts.categoryPercentage, values.categoryPercentage);\r\n\t\tvalues.maxBarThickness = valueOrDefault$3(indexOpts.maxBarThickness, values.maxBarThickness);\r\n\t\tvalues.minBarLength = valueOrDefault$3(valueOpts.minBarLength, values.minBarLength);\r\n\r\n\t\treturn values;\r\n\t}\r\n\r\n});\n\nvar valueOrDefault$4 = helpers$1.valueOrDefault;\r\nvar resolve$1 = helpers$1.options.resolve;\r\n\r\ncore_defaults._set('bubble', {\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'linear', // bubble should probably use a linear scale by default\r\n\t\t\tposition: 'bottom',\r\n\t\t\tid: 'x-axis-0' // need an ID so datasets can reference the scale\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'left',\r\n\t\t\tid: 'y-axis-0'\r\n\t\t}]\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(item, data) {\r\n\t\t\t\tvar datasetLabel = data.datasets[item.datasetIndex].label || '';\r\n\t\t\t\tvar dataPoint = data.datasets[item.datasetIndex].data[item.index];\r\n\t\t\t\treturn datasetLabel + ': (' + item.xLabel + ', ' + item.yLabel + ', ' + dataPoint.r + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_bubble = core_datasetController.extend({\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tdataElementType: elements.Point,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t\t'hoverRadius',\r\n\t\t'hitRadius',\r\n\t\t'pointStyle',\r\n\t\t'rotation'\r\n\t],\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar points = meta.data;\r\n\r\n\t\t// Update Points\r\n\t\thelpers$1.each(points, function(point, index) {\r\n\t\t\tme.updateElement(point, index, reset);\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar xScale = me.getScaleForId(meta.xAxisID);\r\n\t\tvar yScale = me.getScaleForId(meta.yAxisID);\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\t\tvar data = me.getDataset().data[index];\r\n\t\tvar dsIndex = me.index;\r\n\r\n\t\tvar x = reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(typeof data === 'object' ? data : NaN, index, dsIndex);\r\n\t\tvar y = reset ? yScale.getBasePixel() : yScale.getPixelForValue(data, index, dsIndex);\r\n\r\n\t\tpoint._xScale = xScale;\r\n\t\tpoint._yScale = yScale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = dsIndex;\r\n\t\tpoint._index = index;\r\n\t\tpoint._model = {\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\thitRadius: options.hitRadius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tradius: reset ? 0 : options.radius,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t};\r\n\r\n\t\tpoint.pivot();\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$4(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$4(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$4(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = options.radius + options.hoverRadius;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function(point, index) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar data = dataset.data[index] || {};\r\n\t\tvar values = core_datasetController.prototype._resolveDataElementOptions.apply(me, arguments);\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: dataset,\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\t// In case values were cached (and thus frozen), we need to clone the values\r\n\t\tif (me._cachedDataOpts === values) {\r\n\t\t\tvalues = helpers$1.extend({}, values);\r\n\t\t}\r\n\r\n\t\t// Custom radius resolution\r\n\t\tvalues.radius = resolve$1([\r\n\t\t\tcustom.radius,\r\n\t\t\tdata.r,\r\n\t\t\tme._config.radius,\r\n\t\t\tchart.options.elements.point.radius\r\n\t\t], context, index);\r\n\r\n\t\treturn values;\r\n\t}\r\n});\n\nvar valueOrDefault$5 = helpers$1.valueOrDefault;\r\n\r\nvar PI$1 = Math.PI;\r\nvar DOUBLE_PI$1 = PI$1 * 2;\r\nvar HALF_PI$1 = PI$1 / 2;\r\n\r\ncore_defaults._set('doughnut', {\r\n\tanimation: {\r\n\t\t// Boolean - Whether we animate the rotation of the Doughnut\r\n\t\tanimateRotate: true,\r\n\t\t// Boolean - Whether we animate scaling the Doughnut from the centre\r\n\t\tanimateScale: false\r\n\t},\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar data = chart.data;\r\n\t\tvar datasets = data.datasets;\r\n\t\tvar labels = data.labels;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\t\tif (datasets.length) {\r\n\t\t\tfor (i = 0, ilen = datasets[0].data.length; i < ilen; ++i) {\r\n\t\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\t\tlistItemSpan.style.backgroundColor = datasets[0].backgroundColor[i];\r\n\t\t\t\tif (labels[i]) {\r\n\t\t\t\t\tlistItem.appendChild(document.createTextNode(labels[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t},\r\n\tlegend: {\r\n\t\tlabels: {\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar data = chart.data;\r\n\t\t\t\tif (data.labels.length && data.datasets.length) {\r\n\t\t\t\t\treturn data.labels.map(function(label, i) {\r\n\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\r\n\t\t\t\t\t\tvar style = meta.controller.getStyle(i);\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttext: label,\r\n\t\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\t\thidden: isNaN(data.datasets[0].data[i]) || meta.data[i].hidden,\r\n\r\n\t\t\t\t\t\t\t// Extra data used for toggling the correct item\r\n\t\t\t\t\t\t\tindex: i\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.index;\r\n\t\t\tvar chart = this.chart;\r\n\t\t\tvar i, ilen, meta;\r\n\r\n\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\t// toggle visibility of index if exists\r\n\t\t\t\tif (meta.data[index]) {\r\n\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tchart.update();\r\n\t\t}\r\n\t},\r\n\r\n\t// The percentage of the chart that we cut out of the middle.\r\n\tcutoutPercentage: 50,\r\n\r\n\t// The rotation of the chart, where the first data arc begins.\r\n\trotation: -HALF_PI$1,\r\n\r\n\t// The total circumference of the chart.\r\n\tcircumference: DOUBLE_PI$1,\r\n\r\n\t// Need to override these to give a nice default\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(tooltipItem, data) {\r\n\t\t\t\tvar dataLabel = data.labels[tooltipItem.index];\r\n\t\t\t\tvar value = ': ' + data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\r\n\r\n\t\t\t\tif (helpers$1.isArray(dataLabel)) {\r\n\t\t\t\t\t// show value on first line of multiline label\r\n\t\t\t\t\t// need to clone because we are changing the value\r\n\t\t\t\t\tdataLabel = dataLabel.slice();\r\n\t\t\t\t\tdataLabel[0] += value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdataLabel += value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn dataLabel;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_doughnut = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Arc,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'borderAlign',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t],\r\n\r\n\t// Get index of the dataset in relation to the visible datasets. This allows determining the inner and outer radius correctly\r\n\tgetRingIndex: function(datasetIndex) {\r\n\t\tvar ringIndex = 0;\r\n\r\n\t\tfor (var j = 0; j < datasetIndex; ++j) {\r\n\t\t\tif (this.chart.isDatasetVisible(j)) {\r\n\t\t\t\t++ringIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ringIndex;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar ratioX = 1;\r\n\t\tvar ratioY = 1;\r\n\t\tvar offsetX = 0;\r\n\t\tvar offsetY = 0;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar arcs = meta.data;\r\n\t\tvar cutout = opts.cutoutPercentage / 100 || 0;\r\n\t\tvar circumference = opts.circumference;\r\n\t\tvar chartWeight = me._getRingWeight(me.index);\r\n\t\tvar maxWidth, maxHeight, i, ilen;\r\n\r\n\t\t// If the chart's circumference isn't a full circle, calculate size as a ratio of the width/height of the arc\r\n\t\tif (circumference < DOUBLE_PI$1) {\r\n\t\t\tvar startAngle = opts.rotation % DOUBLE_PI$1;\r\n\t\t\tstartAngle += startAngle >= PI$1 ? -DOUBLE_PI$1 : startAngle < -PI$1 ? DOUBLE_PI$1 : 0;\r\n\t\t\tvar endAngle = startAngle + circumference;\r\n\t\t\tvar startX = Math.cos(startAngle);\r\n\t\t\tvar startY = Math.sin(startAngle);\r\n\t\t\tvar endX = Math.cos(endAngle);\r\n\t\t\tvar endY = Math.sin(endAngle);\r\n\t\t\tvar contains0 = (startAngle <= 0 && endAngle >= 0) || endAngle >= DOUBLE_PI$1;\r\n\t\t\tvar contains90 = (startAngle <= HALF_PI$1 && endAngle >= HALF_PI$1) || endAngle >= DOUBLE_PI$1 + HALF_PI$1;\r\n\t\t\tvar contains180 = startAngle === -PI$1 || endAngle >= PI$1;\r\n\t\t\tvar contains270 = (startAngle <= -HALF_PI$1 && endAngle >= -HALF_PI$1) || endAngle >= PI$1 + HALF_PI$1;\r\n\t\t\tvar minX = contains180 ? -1 : Math.min(startX, startX * cutout, endX, endX * cutout);\r\n\t\t\tvar minY = contains270 ? -1 : Math.min(startY, startY * cutout, endY, endY * cutout);\r\n\t\t\tvar maxX = contains0 ? 1 : Math.max(startX, startX * cutout, endX, endX * cutout);\r\n\t\t\tvar maxY = contains90 ? 1 : Math.max(startY, startY * cutout, endY, endY * cutout);\r\n\t\t\tratioX = (maxX - minX) / 2;\r\n\t\t\tratioY = (maxY - minY) / 2;\r\n\t\t\toffsetX = -(maxX + minX) / 2;\r\n\t\t\toffsetY = -(maxY + minY) / 2;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarcs[i]._options = me._resolveDataElementOptions(arcs[i], i);\r\n\t\t}\r\n\r\n\t\tchart.borderWidth = me.getMaxBorderWidth();\r\n\t\tmaxWidth = (chartArea.right - chartArea.left - chart.borderWidth) / ratioX;\r\n\t\tmaxHeight = (chartArea.bottom - chartArea.top - chart.borderWidth) / ratioY;\r\n\t\tchart.outerRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\r\n\t\tchart.innerRadius = Math.max(chart.outerRadius * cutout, 0);\r\n\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / (me._getVisibleDatasetWeightTotal() || 1);\r\n\t\tchart.offsetX = offsetX * chart.outerRadius;\r\n\t\tchart.offsetY = offsetY * chart.outerRadius;\r\n\r\n\t\tmeta.total = me.calculateTotal();\r\n\r\n\t\tme.outerRadius = chart.outerRadius - chart.radiusLength * me._getRingWeightOffset(me.index);\r\n\t\tme.innerRadius = Math.max(me.outerRadius - chart.radiusLength * chartWeight, 0);\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(arcs[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(arc, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar animationOpts = opts.animation;\r\n\t\tvar centerX = (chartArea.left + chartArea.right) / 2;\r\n\t\tvar centerY = (chartArea.top + chartArea.bottom) / 2;\r\n\t\tvar startAngle = opts.rotation; // non reset case handled later\r\n\t\tvar endAngle = opts.rotation; // non reset case handled later\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar circumference = reset && animationOpts.animateRotate ? 0 : arc.hidden ? 0 : me.calculateCircumference(dataset.data[index]) * (opts.circumference / DOUBLE_PI$1);\r\n\t\tvar innerRadius = reset && animationOpts.animateScale ? 0 : me.innerRadius;\r\n\t\tvar outerRadius = reset && animationOpts.animateScale ? 0 : me.outerRadius;\r\n\t\tvar options = arc._options || {};\r\n\r\n\t\thelpers$1.extend(arc, {\r\n\t\t\t// Utility\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index,\r\n\r\n\t\t\t// Desired view properties\r\n\t\t\t_model: {\r\n\t\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\t\tborderColor: options.borderColor,\r\n\t\t\t\tborderWidth: options.borderWidth,\r\n\t\t\t\tborderAlign: options.borderAlign,\r\n\t\t\t\tx: centerX + chart.offsetX,\r\n\t\t\t\ty: centerY + chart.offsetY,\r\n\t\t\t\tstartAngle: startAngle,\r\n\t\t\t\tendAngle: endAngle,\r\n\t\t\t\tcircumference: circumference,\r\n\t\t\t\touterRadius: outerRadius,\r\n\t\t\t\tinnerRadius: innerRadius,\r\n\t\t\t\tlabel: helpers$1.valueAtIndexOrDefault(dataset.label, index, chart.data.labels[index])\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar model = arc._model;\r\n\r\n\t\t// Set correct angles if not resetting\r\n\t\tif (!reset || !animationOpts.animateRotate) {\r\n\t\t\tif (index === 0) {\r\n\t\t\t\tmodel.startAngle = opts.rotation;\r\n\t\t\t} else {\r\n\t\t\t\tmodel.startAngle = me.getMeta().data[index - 1]._model.endAngle;\r\n\t\t\t}\r\n\r\n\t\t\tmodel.endAngle = model.startAngle + model.circumference;\r\n\t\t}\r\n\r\n\t\tarc.pivot();\r\n\t},\r\n\r\n\tcalculateTotal: function() {\r\n\t\tvar dataset = this.getDataset();\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar total = 0;\r\n\t\tvar value;\r\n\r\n\t\thelpers$1.each(meta.data, function(element, index) {\r\n\t\t\tvalue = dataset.data[index];\r\n\t\t\tif (!isNaN(value) && !element.hidden) {\r\n\t\t\t\ttotal += Math.abs(value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t/* if (total === 0) {\r\n\t\t\ttotal = NaN;\r\n\t\t}*/\r\n\r\n\t\treturn total;\r\n\t},\r\n\r\n\tcalculateCircumference: function(value) {\r\n\t\tvar total = this.getMeta().total;\r\n\t\tif (total > 0 && !isNaN(value)) {\r\n\t\t\treturn DOUBLE_PI$1 * (Math.abs(value) / total);\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\r\n\t// gets the max border or hover width to properly scale pie charts\r\n\tgetMaxBorderWidth: function(arcs) {\r\n\t\tvar me = this;\r\n\t\tvar max = 0;\r\n\t\tvar chart = me.chart;\r\n\t\tvar i, ilen, meta, arc, controller, options, borderWidth, hoverWidth;\r\n\r\n\t\tif (!arcs) {\r\n\t\t\t// Find the outmost visible dataset\r\n\t\t\tfor (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\r\n\t\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\t\tarcs = meta.data;\r\n\t\t\t\t\tif (i !== me.index) {\r\n\t\t\t\t\t\tcontroller = meta.controller;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!arcs) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarc = arcs[i];\r\n\t\t\tif (controller) {\r\n\t\t\t\tcontroller._configure();\r\n\t\t\t\toptions = controller._resolveDataElementOptions(arc, i);\r\n\t\t\t} else {\r\n\t\t\t\toptions = arc._options;\r\n\t\t\t}\r\n\t\t\tif (options.borderAlign !== 'inner') {\r\n\t\t\t\tborderWidth = options.borderWidth;\r\n\t\t\t\thoverWidth = options.hoverBorderWidth;\r\n\r\n\t\t\t\tmax = borderWidth > max ? borderWidth : max;\r\n\t\t\t\tmax = hoverWidth > max ? hoverWidth : max;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn max;\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(arc) {\r\n\t\tvar model = arc._model;\r\n\t\tvar options = arc._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tarc.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$5(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$5(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$5(options.hoverBorderWidth, options.borderWidth);\r\n\t},\r\n\r\n\t/**\r\n\t * Get radius length offset of the dataset in relation to the visible datasets weights. This allows determining the inner and outer radius correctly\r\n\t * @private\r\n\t */\r\n\t_getRingWeightOffset: function(datasetIndex) {\r\n\t\tvar ringWeightOffset = 0;\r\n\r\n\t\tfor (var i = 0; i < datasetIndex; ++i) {\r\n\t\t\tif (this.chart.isDatasetVisible(i)) {\r\n\t\t\t\tringWeightOffset += this._getRingWeight(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ringWeightOffset;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getRingWeight: function(dataSetIndex) {\r\n\t\treturn Math.max(valueOrDefault$5(this.chart.data.datasets[dataSetIndex].weight, 1), 0);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the sum of all visibile data set weights.  This value can be 0.\r\n\t * @private\r\n\t */\r\n\t_getVisibleDatasetWeightTotal: function() {\r\n\t\treturn this._getRingWeightOffset(this.chart.data.datasets.length);\r\n\t}\r\n});\n\ncore_defaults._set('horizontalBar', {\r\n\thover: {\r\n\t\tmode: 'index',\r\n\t\taxis: 'y'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'bottom'\r\n\t\t}],\r\n\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\tposition: 'left',\r\n\t\t\toffset: true,\r\n\t\t\tgridLines: {\r\n\t\t\t\toffsetGridLines: true\r\n\t\t\t}\r\n\t\t}]\r\n\t},\r\n\r\n\telements: {\r\n\t\trectangle: {\r\n\t\t\tborderSkipped: 'left'\r\n\t\t}\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tmode: 'index',\r\n\t\taxis: 'y'\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\thorizontalBar: {\r\n\t\t\tcategoryPercentage: 0.8,\r\n\t\t\tbarPercentage: 0.9\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_horizontalBar = controller_bar.extend({\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.getMeta().xAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.getMeta().yAxisID;\r\n\t}\r\n});\n\nvar valueOrDefault$6 = helpers$1.valueOrDefault;\r\nvar resolve$2 = helpers$1.options.resolve;\r\nvar isPointInArea = helpers$1.canvas._isPointInArea;\r\n\r\ncore_defaults._set('line', {\r\n\tshowLines: true,\r\n\tspanGaps: false,\r\n\r\n\thover: {\r\n\t\tmode: 'label'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\tid: 'x-axis-0'\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tid: 'y-axis-0'\r\n\t\t}]\r\n\t}\r\n});\r\n\r\nfunction scaleClip(scale, halfBorderWidth) {\r\n\tvar tickOpts = scale && scale.options.ticks || {};\r\n\tvar reverse = tickOpts.reverse;\r\n\tvar min = tickOpts.min === undefined ? halfBorderWidth : 0;\r\n\tvar max = tickOpts.max === undefined ? halfBorderWidth : 0;\r\n\treturn {\r\n\t\tstart: reverse ? max : min,\r\n\t\tend: reverse ? min : max\r\n\t};\r\n}\r\n\r\nfunction defaultClip(xScale, yScale, borderWidth) {\r\n\tvar halfBorderWidth = borderWidth / 2;\r\n\tvar x = scaleClip(xScale, halfBorderWidth);\r\n\tvar y = scaleClip(yScale, halfBorderWidth);\r\n\r\n\treturn {\r\n\t\ttop: y.end,\r\n\t\tright: x.end,\r\n\t\tbottom: y.start,\r\n\t\tleft: x.start\r\n\t};\r\n}\r\n\r\nfunction toClip(value) {\r\n\tvar t, r, b, l;\r\n\r\n\tif (helpers$1.isObject(value)) {\r\n\t\tt = value.top;\r\n\t\tr = value.right;\r\n\t\tb = value.bottom;\r\n\t\tl = value.left;\r\n\t} else {\r\n\t\tt = r = b = l = value;\r\n\t}\r\n\r\n\treturn {\r\n\t\ttop: t,\r\n\t\tright: r,\r\n\t\tbottom: b,\r\n\t\tleft: l\r\n\t};\r\n}\r\n\r\n\r\nvar controller_line = core_datasetController.extend({\r\n\r\n\tdatasetElementType: elements.Line,\r\n\r\n\tdataElementType: elements.Point,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderColor',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'borderWidth',\r\n\t\t'cubicInterpolationMode',\r\n\t\t'fill'\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: {\r\n\t\tbackgroundColor: 'pointBackgroundColor',\r\n\t\tborderColor: 'pointBorderColor',\r\n\t\tborderWidth: 'pointBorderWidth',\r\n\t\thitRadius: 'pointHitRadius',\r\n\t\thoverBackgroundColor: 'pointHoverBackgroundColor',\r\n\t\thoverBorderColor: 'pointHoverBorderColor',\r\n\t\thoverBorderWidth: 'pointHoverBorderWidth',\r\n\t\thoverRadius: 'pointHoverRadius',\r\n\t\tpointStyle: 'pointStyle',\r\n\t\tradius: 'pointRadius',\r\n\t\trotation: 'pointRotation'\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar line = meta.dataset;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar options = me.chart.options;\r\n\t\tvar config = me._config;\r\n\t\tvar showLine = me._showLine = valueOrDefault$6(config.showLine, options.showLines);\r\n\t\tvar i, ilen;\r\n\r\n\t\tme._xScale = me.getScaleForId(meta.xAxisID);\r\n\t\tme._yScale = me.getScaleForId(meta.yAxisID);\r\n\r\n\t\t// Update Line\r\n\t\tif (showLine) {\r\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\r\n\t\t\tif (config.tension !== undefined && config.lineTension === undefined) {\r\n\t\t\t\tconfig.lineTension = config.tension;\r\n\t\t\t}\r\n\r\n\t\t\t// Utility\r\n\t\t\tline._scale = me._yScale;\r\n\t\t\tline._datasetIndex = me.index;\r\n\t\t\t// Data\r\n\t\t\tline._children = points;\r\n\t\t\t// Model\r\n\t\t\tline._model = me._resolveDatasetElementOptions(line);\r\n\r\n\t\t\tline.pivot();\r\n\t\t}\r\n\r\n\t\t// Update Points\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(points[i], i, reset);\r\n\t\t}\r\n\r\n\t\tif (showLine && line._model.tension !== 0) {\r\n\t\t\tme.updateBezierControlPoints();\r\n\t\t}\r\n\r\n\t\t// Now pivot the point for animation\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tpoints[i].pivot();\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar datasetIndex = me.index;\r\n\t\tvar value = dataset.data[index];\r\n\t\tvar xScale = me._xScale;\r\n\t\tvar yScale = me._yScale;\r\n\t\tvar lineModel = meta.dataset._model;\r\n\t\tvar x, y;\r\n\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\r\n\t\tx = xScale.getPixelForValue(typeof value === 'object' ? value : NaN, index, datasetIndex);\r\n\t\ty = reset ? yScale.getBasePixel() : me.calculatePointY(value, index, datasetIndex);\r\n\r\n\t\t// Utility\r\n\t\tpoint._xScale = xScale;\r\n\t\tpoint._yScale = yScale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = datasetIndex;\r\n\t\tpoint._index = index;\r\n\r\n\t\t// Desired view properties\r\n\t\tpoint._model = {\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\t// Appearance\r\n\t\t\tradius: options.radius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\ttension: valueOrDefault$6(custom.tension, lineModel ? lineModel.tension : 0),\r\n\t\t\tsteppedLine: lineModel ? lineModel.steppedLine : false,\r\n\t\t\t// Tooltip\r\n\t\t\thitRadius: options.hitRadius\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function(element) {\r\n\t\tvar me = this;\r\n\t\tvar config = me._config;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar options = me.chart.options;\r\n\t\tvar lineOptions = options.elements.line;\r\n\t\tvar values = core_datasetController.prototype._resolveDatasetElementOptions.apply(me, arguments);\r\n\r\n\t\t// The default behavior of lines is to break at null values, according\r\n\t\t// to https://github.com/chartjs/Chart.js/issues/2435#issuecomment-216718158\r\n\t\t// This option gives lines the ability to span gaps\r\n\t\tvalues.spanGaps = valueOrDefault$6(config.spanGaps, options.spanGaps);\r\n\t\tvalues.tension = valueOrDefault$6(config.lineTension, lineOptions.tension);\r\n\t\tvalues.steppedLine = resolve$2([custom.steppedLine, config.steppedLine, lineOptions.stepped]);\r\n\t\tvalues.clip = toClip(valueOrDefault$6(config.clip, defaultClip(me._xScale, me._yScale, values.borderWidth)));\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tcalculatePointY: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar yScale = me._yScale;\r\n\t\tvar sumPos = 0;\r\n\t\tvar sumNeg = 0;\r\n\t\tvar i, ds, dsMeta, stackedRightValue, rightValue, metasets, ilen;\r\n\r\n\t\tif (yScale.options.stacked) {\r\n\t\t\trightValue = +yScale.getRightValue(value);\r\n\t\t\tmetasets = chart._getSortedVisibleDatasetMetas();\r\n\t\t\tilen = metasets.length;\r\n\r\n\t\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\t\tdsMeta = metasets[i];\r\n\t\t\t\tif (dsMeta.index === datasetIndex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tds = chart.data.datasets[dsMeta.index];\r\n\t\t\t\tif (dsMeta.type === 'line' && dsMeta.yAxisID === yScale.id) {\r\n\t\t\t\t\tstackedRightValue = +yScale.getRightValue(ds.data[index]);\r\n\t\t\t\t\tif (stackedRightValue < 0) {\r\n\t\t\t\t\t\tsumNeg += stackedRightValue || 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsumPos += stackedRightValue || 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (rightValue < 0) {\r\n\t\t\t\treturn yScale.getPixelForValue(sumNeg + rightValue);\r\n\t\t\t}\r\n\t\t\treturn yScale.getPixelForValue(sumPos + rightValue);\r\n\t\t}\r\n\t\treturn yScale.getPixelForValue(value);\r\n\t},\r\n\r\n\tupdateBezierControlPoints: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar lineModel = meta.dataset._model;\r\n\t\tvar area = ch